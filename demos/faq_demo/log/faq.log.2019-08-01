2019-08-01 15:26:41,821 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:26:41,823 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:26:41,824 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:26:41,830 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:26:41,832 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:26:41,832 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:26:41,833 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:26:41,833 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:26:47,499 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:26:47,500 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:26:47,500 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:26:47,500 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:26:47,501 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:26:49,557 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 2.057 seconds.
2019-08-01 15:26:49,558 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:26:49,558 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:26:49,560 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:26:50,141 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 217
2019-08-01 15:26:50,142 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.582s]
2019-08-01 15:26:50,142 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:26:50,142 - elasticsearch - base.py[line:121] - DEBUG - < {"took":365,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:26:50,143 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:26:50,143 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:29:40,368 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:29:40,369 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:29:40,370 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:29:40,376 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:29:40,379 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:29:40,379 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:29:40,379 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:29:40,379 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:29:45,593 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:29:45,593 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:29:45,593 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:29:45,593 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:29:45,593 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:29:46,650 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.057 seconds.
2019-08-01 15:29:46,650 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:29:46,650 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:29:46,651 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:29:46,668 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 215
2019-08-01 15:29:46,669 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.018s]
2019-08-01 15:29:46,669 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:29:46,670 - elasticsearch - base.py[line:121] - DEBUG - < {"took":8,"timed_out":false,"total":0,"deleted":0,"batches":0,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:29:46,670 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:29:46,670 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:33:56,462 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:33:56,463 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:33:56,463 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:33:56,467 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:33:56,469 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:33:56,470 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:33:56,470 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:33:56,470 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:33:58,780 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:33:58,781 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:33:58,781 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:33:58,782 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:33:58,782 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:33:59,808 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.026 seconds.
2019-08-01 15:33:59,809 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:33:59,809 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:33:59,810 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:33:59,828 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 215
2019-08-01 15:33:59,829 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.019s]
2019-08-01 15:33:59,830 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:33:59,831 - elasticsearch - base.py[line:121] - DEBUG - < {"took":7,"timed_out":false,"total":0,"deleted":0,"batches":0,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:33:59,831 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:33:59,832 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:33:59,943 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1268
2019-08-01 15:33:59,944 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.110s]
2019-08-01 15:33:59,945 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:33:59,945 - elasticsearch - base.py[line:121] - DEBUG - < {"took":86,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":154,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":155,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":156,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":157,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":158,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":159,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":160,"_primary_term":3,"status":201}}]}
2019-08-01 15:33:59,945 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:34:02,946 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:34:02,947 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:34:02,957 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:34:02,958 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:34:02,962 - Config - config.py[line:180] - INFO - save faq config SUCCESS !
2019-08-01 15:34:02,964 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:34:02,965 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:34:35,750 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:34:35,751 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:34:35,751 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:34:35,756 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:34:35,758 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:34:35,758 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:34:35,758 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:34:35,758 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:34:37,988 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:34:37,989 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:34:37,990 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:34:37,990 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:34:37,991 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:34:39,007 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.016 seconds.
2019-08-01 15:34:39,008 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:34:39,008 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:34:39,009 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:34:39,049 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 15:34:39,050 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.042s]
2019-08-01 15:34:39,052 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:34:39,052 - elasticsearch - base.py[line:121] - DEBUG - < {"took":30,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:34:39,052 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:34:39,054 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:34:39,096 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1268
2019-08-01 15:34:39,096 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.041s]
2019-08-01 15:34:39,097 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:34:39,097 - elasticsearch - base.py[line:121] - DEBUG - < {"took":34,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":168,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":169,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":170,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":171,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":172,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":173,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":3,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":174,"_primary_term":3,"status":201}}]}
2019-08-01 15:34:39,098 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:34:42,099 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:34:42,100 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:34:42,106 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:34:42,108 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:34:42,108 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:34:42,109 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:34:42,112 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:34:42,113 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:34:42,114 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:34:42,129 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:34:42,130 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:34:42,132 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:34:42,133 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:34:42,235 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:34:42,237 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:34:44,432 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:34:44,572 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:34:44,937 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:34:45,009 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:34:45,422 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:34:45,479 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:34:46,159 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:34:46,201 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:42:11,559 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:42:11,560 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:42:11,560 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:42:11,566 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:42:11,568 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:42:11,568 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:42:11,568 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:42:11,568 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:42:15,967 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:42:15,968 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:42:15,968 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:42:15,968 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:42:15,969 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:42:17,028 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.059 seconds.
2019-08-01 15:42:17,028 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:42:17,029 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:42:17,030 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:42:17,104 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 15:42:17,105 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.076s]
2019-08-01 15:42:17,106 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:42:17,106 - elasticsearch - base.py[line:121] - DEBUG - < {"took":48,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:42:17,106 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:42:17,106 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:42:17,148 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1268
2019-08-01 15:42:17,148 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.040s]
2019-08-01 15:42:17,149 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:42:17,149 - elasticsearch - base.py[line:121] - DEBUG - < {"took":34,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":182,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":183,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":184,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":185,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":186,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":187,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":5,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":188,"_primary_term":3,"status":201}}]}
2019-08-01 15:42:17,149 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:42:20,151 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:42:20,152 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:42:20,168 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:42:20,170 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:42:20,170 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:42:20,172 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:42:20,179 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:42:20,181 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:42:20,182 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:42:20,189 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:42:20,190 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:42:20,193 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:42:20,197 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:42:20,278 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:42:20,280 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:42:22,161 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:42:22,250 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:42:22,566 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:42:22,645 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:42:23,086 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:42:23,155 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:42:23,858 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:42:23,889 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:44:06,228 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:44:06,229 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:44:06,229 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:44:06,233 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:44:06,237 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:44:06,237 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:44:06,237 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:44:06,238 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:44:10,591 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:44:10,592 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:44:10,593 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:44:10,594 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:44:10,595 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:44:11,776 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.182 seconds.
2019-08-01 15:44:11,776 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:44:11,776 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:44:11,777 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:44:11,856 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 15:44:11,857 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.080s]
2019-08-01 15:44:11,859 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:44:11,859 - elasticsearch - base.py[line:121] - DEBUG - < {"took":58,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:44:11,859 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:44:11,861 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:44:11,915 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1268
2019-08-01 15:44:11,915 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.051s]
2019-08-01 15:44:11,918 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:44:11,918 - elasticsearch - base.py[line:121] - DEBUG - < {"took":44,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":196,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":197,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":198,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":199,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":200,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":201,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":7,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":202,"_primary_term":3,"status":201}}]}
2019-08-01 15:44:11,919 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:44:14,920 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:44:14,922 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:44:14,933 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:44:14,935 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:44:14,935 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:44:14,936 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:44:14,940 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:44:14,942 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:44:14,943 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:44:14,960 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:44:14,963 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:44:14,966 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:44:14,982 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:44:15,063 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:44:15,064 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:44:17,014 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:44:17,098 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:44:17,430 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:44:17,501 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:44:17,962 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:44:18,019 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:44:18,711 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:44:18,729 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:44:18,790 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 15:49:40,566 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:49:40,567 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:49:40,568 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:49:40,572 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:49:40,575 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:49:40,575 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:49:40,575 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:49:40,575 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:49:44,624 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:49:44,624 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:49:44,625 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:49:44,625 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:49:44,626 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:49:45,738 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.113 seconds.
2019-08-01 15:49:45,738 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:49:45,739 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:49:45,741 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:49:45,917 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 217
2019-08-01 15:49:45,918 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.178s]
2019-08-01 15:49:45,920 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:49:45,920 - elasticsearch - base.py[line:121] - DEBUG - < {"took":121,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:49:45,920 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:49:45,921 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:49:46,006 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1268
2019-08-01 15:49:46,007 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.084s]
2019-08-01 15:49:46,009 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:49:46,009 - elasticsearch - base.py[line:121] - DEBUG - < {"took":77,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":210,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":211,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":212,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":213,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":214,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":215,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":9,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":216,"_primary_term":3,"status":201}}]}
2019-08-01 15:49:46,009 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:49:49,011 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:49:49,011 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:49:49,019 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:49:49,019 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:49:49,020 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:49:49,020 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:49:49,023 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:49:49,023 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:49:49,024 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:49:49,033 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:49:49,034 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:49:49,035 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:49:49,035 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:49:49,108 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:49:49,110 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:49:50,558 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:49:50,640 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:49:50,932 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:49:51,008 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:49:51,419 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:49:51,473 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:49:52,187 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:49:52,213 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:49:52,275 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 15:51:35,680 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:51:35,681 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:51:35,681 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:51:35,685 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:51:35,687 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:51:35,687 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:51:35,687 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:51:35,687 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:51:38,515 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:51:38,515 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:51:38,516 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:51:38,517 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:51:38,517 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:51:39,561 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.044 seconds.
2019-08-01 15:51:39,562 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:51:39,565 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:51:39,566 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:51:39,604 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 15:51:39,605 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.039s]
2019-08-01 15:51:39,606 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:51:39,606 - elasticsearch - base.py[line:121] - DEBUG - < {"took":27,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:51:39,607 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:51:39,607 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:51:39,637 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 15:51:39,638 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.030s]
2019-08-01 15:51:39,639 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:51:39,639 - elasticsearch - base.py[line:121] - DEBUG - < {"took":25,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":224,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":225,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":226,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":227,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":228,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":229,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":11,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":230,"_primary_term":3,"status":201}}]}
2019-08-01 15:51:39,640 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:51:42,642 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:51:42,645 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:51:42,655 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:51:42,658 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:51:42,658 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:51:42,660 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:51:42,660 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:51:42,661 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:51:42,662 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:51:42,673 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:51:42,673 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:51:42,674 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:51:42,675 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:51:42,710 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:51:42,711 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:51:43,652 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:51:43,726 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:51:44,017 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:51:44,092 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:51:44,497 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:51:44,526 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:51:45,199 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:51:45,214 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:51:45,270 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 15:52:47,426 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:52:47,427 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:52:47,427 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:52:47,430 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:52:47,432 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:52:47,433 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:52:47,433 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:52:47,433 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:52:49,870 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:52:49,870 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:52:49,871 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:52:49,871 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:52:49,872 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:52:50,985 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.114 seconds.
2019-08-01 15:52:50,986 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:52:50,986 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:52:50,987 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:52:51,023 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 15:52:51,024 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.037s]
2019-08-01 15:52:51,025 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:52:51,025 - elasticsearch - base.py[line:121] - DEBUG - < {"took":25,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:52:51,026 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:52:51,026 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:52:51,063 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 15:52:51,064 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.036s]
2019-08-01 15:52:51,064 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:52:51,065 - elasticsearch - base.py[line:121] - DEBUG - < {"took":31,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":238,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":239,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":240,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":241,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":242,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":243,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":13,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":244,"_primary_term":3,"status":201}}]}
2019-08-01 15:52:51,065 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:52:54,065 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:52:54,066 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:52:54,072 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:52:54,072 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:52:54,073 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:52:54,074 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:52:54,076 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:52:54,076 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:52:54,077 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:52:54,081 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:52:54,082 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:52:54,083 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:52:54,083 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:52:54,116 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:52:54,117 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:52:55,052 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:52:55,128 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:52:55,430 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:52:55,507 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:52:55,904 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:52:55,931 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:52:56,633 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:52:56,647 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:52:56,708 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 15:56:44,025 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 15:56:44,026 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 15:56:44,026 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 15:56:44,029 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 15:56:44,032 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 15:56:44,032 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 15:56:44,032 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 15:56:44,032 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 15:56:46,305 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 15:56:46,307 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 15:56:46,308 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 15:56:46,308 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 15:56:46,309 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 15:56:47,342 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.033 seconds.
2019-08-01 15:56:47,344 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 15:56:47,345 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 15:56:47,346 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 15:56:47,389 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 15:56:47,389 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.044s]
2019-08-01 15:56:47,391 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 15:56:47,392 - elasticsearch - base.py[line:121] - DEBUG - < {"took":33,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 15:56:47,392 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 15:56:47,392 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 15:56:47,428 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 15:56:47,429 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.035s]
2019-08-01 15:56:47,430 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 15:56:47,430 - elasticsearch - base.py[line:121] - DEBUG - < {"took":29,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":252,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":253,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":254,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":255,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":256,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":257,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":15,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":258,"_primary_term":3,"status":201}}]}
2019-08-01 15:56:47,430 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 15:56:50,432 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 15:56:50,433 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 15:56:50,438 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 15:56:50,439 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 15:56:50,439 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 15:56:50,440 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 15:56:50,441 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 15:56:50,442 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 15:56:50,444 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 15:56:50,447 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 15:56:50,448 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 15:56:50,449 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 15:56:50,450 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 15:56:50,486 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 15:56:50,488 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 15:56:51,404 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 15:56:51,474 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 15:56:51,780 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 15:56:51,854 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 15:56:52,242 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 15:56:52,268 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 15:56:52,934 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 15:56:52,948 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 15:56:53,004 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:04:34,905 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:04:34,907 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:04:34,907 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:04:34,912 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:04:34,915 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:04:34,915 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:04:34,915 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:04:34,915 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:04:39,716 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 16:04:39,718 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 16:04:39,718 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:04:39,719 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:04:39,722 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:04:40,860 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.139 seconds.
2019-08-01 16:04:40,861 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:04:40,861 - server_init - server.py[line:77] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:04:40,863 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:04:41,227 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:04:41,229 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.366s]
2019-08-01 16:04:41,229 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:04:41,229 - elasticsearch - base.py[line:121] - DEBUG - < {"took":49,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:04:41,229 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:04:41,230 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:04:41,270 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:04:41,270 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.038s]
2019-08-01 16:04:41,271 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:04:41,271 - elasticsearch - base.py[line:121] - DEBUG - < {"took":33,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":266,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":267,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":268,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":269,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":270,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":271,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":17,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":272,"_primary_term":3,"status":201}}]}
2019-08-01 16:04:41,272 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:04:44,272 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:04:44,273 - server_init - server.py[line:80] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:04:44,284 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:04:44,285 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:04:44,285 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:04:44,288 - server_init - server.py[line:83] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:04:44,291 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:04:44,292 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:04:44,295 - server_init - server.py[line:87] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:04:44,310 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:04:44,312 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:04:44,314 - server_init - server.py[line:91] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:04:44,316 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:04:44,444 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:04:44,445 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:04:46,843 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:04:46,926 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:04:47,231 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:04:47,303 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:04:47,760 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:04:47,814 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:04:48,587 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:04:48,604 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:04:48,708 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:09:51,756 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:09:51,757 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:09:51,758 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:09:51,761 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:09:51,763 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:09:51,763 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:09:51,763 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:09:51,764 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:09:54,286 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 16:09:54,287 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 16:09:54,289 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:09:54,289 - server_init - server.py[line:75] - DEBUG - abcnn2.ckpt
2019-08-01 16:09:54,289 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:09:54,290 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:09:55,376 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.086 seconds.
2019-08-01 16:09:55,376 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:09:55,377 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:09:55,378 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:09:55,437 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:09:55,438 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.060s]
2019-08-01 16:09:55,439 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:09:55,439 - elasticsearch - base.py[line:121] - DEBUG - < {"took":39,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:09:55,439 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:09:55,440 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:09:55,479 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:09:55,480 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.039s]
2019-08-01 16:09:55,481 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:09:55,481 - elasticsearch - base.py[line:121] - DEBUG - < {"took":27,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":280,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":281,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":282,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":283,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":284,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":285,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":19,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":286,"_primary_term":3,"status":201}}]}
2019-08-01 16:09:55,481 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:09:58,483 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:09:58,484 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:09:58,493 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:09:58,495 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:09:58,495 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:09:58,498 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:09:58,499 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:09:58,532 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:09:58,534 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:09:58,540 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:09:58,542 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:09:58,543 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:09:58,546 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:09:58,619 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:09:58,620 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:09:59,573 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:09:59,649 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:09:59,934 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:10:00,024 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:10:00,476 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:10:00,510 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:10:01,240 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:10:01,272 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:10:01,348 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:13:54,705 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:13:54,707 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:13:54,707 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:13:54,713 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:13:54,715 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:13:54,716 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:13:54,716 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:13:54,716 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:13:59,679 - Config - config.py[line:175] - INFO - load faq config SUCCESS !
2019-08-01 16:13:59,681 - init_faq_config - config.py[line:212] - INFO - init faq config SUCCESS !
2019-08-01 16:13:59,682 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:13:59,682 - server_init - server.py[line:75] - INFO - abcnn2.ckpt
2019-08-01 16:13:59,683 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:13:59,683 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:14:00,855 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.172 seconds.
2019-08-01 16:14:00,855 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:14:00,856 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:14:00,857 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:14:00,940 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:14:00,941 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.084s]
2019-08-01 16:14:00,943 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:14:00,943 - elasticsearch - base.py[line:121] - DEBUG - < {"took":68,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:14:00,944 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:14:00,945 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:14:00,987 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:14:00,988 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.041s]
2019-08-01 16:14:00,989 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:14:00,990 - elasticsearch - base.py[line:121] - DEBUG - < {"took":32,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":294,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":295,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":296,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":297,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":298,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":299,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":21,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":300,"_primary_term":3,"status":201}}]}
2019-08-01 16:14:00,991 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:14:03,992 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:14:03,994 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:14:04,005 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:14:04,007 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:14:04,008 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:14:04,009 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:14:04,013 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:14:04,014 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:14:04,015 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:14:04,029 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:14:04,031 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:14:04,032 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:14:04,034 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:14:04,148 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:14:04,150 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:14:06,036 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:14:06,121 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:14:06,462 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:14:06,557 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:14:07,004 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:14:07,070 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:14:07,760 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:14:07,792 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:14:07,855 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:20:21,136 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:20:21,137 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:20:21,138 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:20:21,143 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:20:21,144 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:20:21,145 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:20:21,145 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:20:21,145 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:20:24,654 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:20:24,655 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:20:24,655 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:20:24,656 - server_init - server.py[line:75] - INFO - abcnn2.ckpt
2019-08-01 16:20:24,656 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:20:24,656 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:20:25,694 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.038 seconds.
2019-08-01 16:20:25,696 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:20:25,696 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:20:25,698 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:20:25,749 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:20:25,750 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.051s]
2019-08-01 16:20:25,750 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:20:25,751 - elasticsearch - base.py[line:121] - DEBUG - < {"took":39,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:20:25,751 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:20:25,752 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:20:25,785 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:20:25,785 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.032s]
2019-08-01 16:20:25,786 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:20:25,786 - elasticsearch - base.py[line:121] - DEBUG - < {"took":28,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":308,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":309,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":310,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":311,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":312,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":313,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":23,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":314,"_primary_term":3,"status":201}}]}
2019-08-01 16:20:25,787 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:20:28,788 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:20:28,790 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:20:28,796 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:20:28,800 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:20:28,801 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:20:28,802 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:20:28,805 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:20:28,807 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:20:28,809 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:20:28,848 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:20:28,849 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:20:28,850 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:20:28,853 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:20:28,919 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:20:28,921 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:20:29,886 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:20:29,963 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:20:30,251 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:20:30,336 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:20:30,793 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:20:30,819 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:20:31,481 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:20:31,498 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:20:31,557 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:21:35,250 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:21:35,251 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:21:35,251 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:21:35,255 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:21:35,258 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:21:35,259 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:21:35,259 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:21:35,259 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:21:37,956 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:21:37,956 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:21:37,957 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:21:37,957 - server_init - server.py[line:75] - INFO - abcnn2.ckpt
2019-08-01 16:21:37,957 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:21:37,958 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:21:38,991 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.033 seconds.
2019-08-01 16:21:38,992 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:21:38,992 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:21:38,993 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:21:39,030 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:21:39,031 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.037s]
2019-08-01 16:21:39,031 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:21:39,032 - elasticsearch - base.py[line:121] - DEBUG - < {"took":29,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:21:39,032 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:21:39,032 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:21:39,070 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:21:39,071 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.037s]
2019-08-01 16:21:39,072 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:21:39,072 - elasticsearch - base.py[line:121] - DEBUG - < {"took":31,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":322,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":323,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":324,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":325,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":326,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":327,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":25,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":328,"_primary_term":3,"status":201}}]}
2019-08-01 16:21:39,072 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:21:42,072 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:21:42,074 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:21:42,081 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:21:42,087 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:21:42,088 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:21:42,090 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:21:42,091 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:21:42,092 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:21:42,093 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:21:42,099 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:21:42,100 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:21:42,102 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:21:42,106 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:21:42,188 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:21:42,191 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:21:43,164 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:21:43,240 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:21:43,540 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:21:43,613 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:21:44,043 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:21:44,073 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:21:44,776 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:21:44,797 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:21:44,857 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:28:32,048 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:28:32,049 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:28:32,049 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:28:32,053 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:28:32,056 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:28:32,056 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:28:32,056 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:28:32,056 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:28:34,915 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:28:34,915 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:28:34,916 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:28:34,916 - server_init - server.py[line:75] - INFO - abcnn2.ckpt
2019-08-01 16:28:34,917 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:28:34,917 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:28:35,958 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.041 seconds.
2019-08-01 16:28:35,959 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:28:35,959 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:28:35,961 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:28:36,004 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:28:36,005 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.045s]
2019-08-01 16:28:36,006 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:28:36,006 - elasticsearch - base.py[line:121] - DEBUG - < {"took":34,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:28:36,006 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:28:36,012 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:28:36,048 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:28:36,049 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.036s]
2019-08-01 16:28:36,050 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:28:36,050 - elasticsearch - base.py[line:121] - DEBUG - < {"took":30,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":336,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":337,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":338,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":339,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":340,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":341,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":27,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":342,"_primary_term":3,"status":201}}]}
2019-08-01 16:28:36,051 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:28:39,053 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:28:39,055 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:28:39,064 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:28:39,069 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:28:39,069 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:28:39,070 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:28:39,072 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:28:39,074 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:28:39,076 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:28:39,127 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:28:39,129 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:28:39,130 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:28:39,134 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:28:39,185 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:28:39,187 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:28:40,187 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:28:40,270 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:28:40,586 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:28:40,658 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:28:41,111 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:28:41,137 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:28:41,837 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:28:41,869 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:28:41,960 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:30:02,470 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:30:02,471 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:30:02,472 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:30:02,475 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:30:02,477 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:30:02,477 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:30:02,477 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:30:02,478 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:30:05,281 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:30:05,281 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:30:05,281 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:30:05,282 - server_init - server.py[line:75] - INFO - abcnn2.ckpt
2019-08-01 16:30:05,282 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:30:05,289 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:30:06,343 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.054 seconds.
2019-08-01 16:30:06,344 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:30:06,344 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:30:06,345 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:30:06,385 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:30:06,386 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.040s]
2019-08-01 16:30:06,386 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:30:06,386 - elasticsearch - base.py[line:121] - DEBUG - < {"took":28,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:30:06,387 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:30:06,387 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:30:06,419 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:30:06,420 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.032s]
2019-08-01 16:30:06,421 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:30:06,422 - elasticsearch - base.py[line:121] - DEBUG - < {"took":26,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":350,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":351,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":352,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":353,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":354,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":355,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":29,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":356,"_primary_term":3,"status":201}}]}
2019-08-01 16:30:06,422 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:30:09,424 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:30:09,427 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:30:37,535 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:30:37,536 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:30:37,537 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:30:37,540 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:30:37,543 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:30:37,543 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:30:37,543 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:30:37,543 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:30:39,821 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:30:39,822 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:30:39,822 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:30:39,822 - server_init - server.py[line:75] - INFO - hello.ckpt
2019-08-01 16:30:39,823 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:30:39,824 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:30:40,863 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.041 seconds.
2019-08-01 16:30:40,864 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:30:40,864 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:30:40,866 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:30:40,914 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:30:40,915 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.050s]
2019-08-01 16:30:40,916 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:30:40,916 - elasticsearch - base.py[line:121] - DEBUG - < {"took":39,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:30:40,916 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:30:40,923 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:30:40,957 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:30:40,957 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.033s]
2019-08-01 16:30:40,958 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:30:40,959 - elasticsearch - base.py[line:121] - DEBUG - < {"took":22,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":364,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":365,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":366,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":367,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":368,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":369,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":31,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":370,"_primary_term":3,"status":201}}]}
2019-08-01 16:30:40,959 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:30:43,960 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:30:43,961 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:30:54,922 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:30:54,922 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:30:54,922 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:30:54,928 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:30:54,929 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:30:54,930 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:30:54,930 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:30:54,930 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:30:57,294 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:30:57,294 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:30:57,295 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:30:57,295 - server_init - server.py[line:75] - INFO - hello.ckpt
2019-08-01 16:30:57,296 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:30:57,296 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:30:58,346 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.050 seconds.
2019-08-01 16:30:58,347 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:30:58,347 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:30:58,348 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:30:58,385 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:30:58,386 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.038s]
2019-08-01 16:30:58,386 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:30:58,387 - elasticsearch - base.py[line:121] - DEBUG - < {"took":28,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:30:58,387 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:30:58,389 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:30:58,416 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:30:58,417 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.027s]
2019-08-01 16:30:58,417 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:30:58,418 - elasticsearch - base.py[line:121] - DEBUG - < {"took":22,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":378,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":379,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":380,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":381,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":382,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":383,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":33,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":384,"_primary_term":3,"status":201}}]}
2019-08-01 16:30:58,418 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:31:01,418 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:31:01,419 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:31:01,424 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:31:01,426 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:31:01,426 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:31:01,428 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:31:01,429 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:31:01,432 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:31:01,462 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:31:01,466 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:31:01,467 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:31:01,468 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:31:01,469 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:31:01,510 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:31:01,512 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:31:02,447 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:31:02,519 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:31:02,793 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:31:02,872 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:31:03,285 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:31:03,320 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:31:03,973 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:31:03,996 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:31:04,061 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:31:24,318 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:31:24,318 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:31:24,319 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:31:24,323 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:31:24,325 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:31:24,325 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:31:24,325 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:31:24,326 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:31:26,587 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:31:26,589 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:31:26,589 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:31:26,589 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 16:31:26,590 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:31:26,590 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:31:27,623 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.032 seconds.
2019-08-01 16:31:27,624 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:31:27,624 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:31:27,625 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:31:27,661 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:31:27,662 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.037s]
2019-08-01 16:31:27,663 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:31:27,663 - elasticsearch - base.py[line:121] - DEBUG - < {"took":29,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:31:27,664 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:31:27,664 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:31:27,694 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:31:27,694 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.029s]
2019-08-01 16:31:27,695 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:31:27,695 - elasticsearch - base.py[line:121] - DEBUG - < {"took":23,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":392,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":393,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":394,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":395,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":396,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":397,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":35,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":398,"_primary_term":3,"status":201}}]}
2019-08-01 16:31:27,695 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:31:30,697 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:31:30,700 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:31:30,747 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:31:30,748 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:31:30,748 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:31:30,762 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:31:30,763 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:31:30,777 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:31:30,778 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:31:30,795 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:31:30,836 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:31:30,836 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:31:30,837 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:31:30,893 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:31:30,907 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:31:31,906 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:31:31,982 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:31:32,275 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:31:32,351 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:31:32,789 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:31:32,817 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:31:33,484 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:31:33,516 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:31:33,571 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:31:33,578 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 16:31:33,821 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 16:31:33,822 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 16:31:33,823 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 16:31:34,197 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 16:31:35,268 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 16:31:35,268 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 16:31:35,268 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 16:31:35,273 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 16:31:35,275 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 16:31:35,275 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 16:31:35,275 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 16:31:35,275 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 16:31:37,558 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 16:31:37,559 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 16:31:37,560 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 16:31:37,561 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 16:31:37,561 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 16:31:37,562 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 16:31:38,613 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.051 seconds.
2019-08-01 16:31:38,614 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 16:31:38,614 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 16:31:38,614 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 16:31:38,671 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 16:31:38,672 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.058s]
2019-08-01 16:31:38,673 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 16:31:38,673 - elasticsearch - base.py[line:121] - DEBUG - < {"took":45,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 16:31:38,673 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 16:31:38,674 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 16:31:38,704 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 16:31:38,705 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.030s]
2019-08-01 16:31:38,706 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 16:31:38,707 - elasticsearch - base.py[line:121] - DEBUG - < {"took":24,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":406,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":407,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":408,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":409,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":410,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":411,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":37,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":412,"_primary_term":3,"status":201}}]}
2019-08-01 16:31:38,707 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 16:31:41,709 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 16:31:41,711 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 16:31:41,718 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 16:31:41,720 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 16:31:41,720 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 16:31:41,721 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 16:31:41,723 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 16:31:41,725 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 16:31:41,726 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 16:31:41,783 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 16:31:41,786 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 16:31:41,788 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 16:31:41,789 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 16:31:41,826 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 16:31:41,828 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 16:31:42,846 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 16:31:42,940 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 16:31:43,224 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 16:31:43,294 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 16:31:43,722 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 16:31:43,753 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 16:31:44,433 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 16:31:44,450 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 16:31:44,505 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 16:31:44,512 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 16:31:44,612 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 16:31:44,613 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 16:31:44,620 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 16:31:44,855 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 16:31:44,869 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 16:31:44,896 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 16:50:36,640 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 16:50:36,804 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 16:50:36,810 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], 'query_tokens': ['', '', '']}
2019-08-01 16:50:36,814 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 16:50:38,180 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 1121
2019-08-01 16:50:38,192 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:1.363s]
2019-08-01 16:50:38,193 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 16:50:38,193 - elasticsearch - base.py[line:121] - DEBUG - < {"took":683,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":3,"relation":"eq"},"max_score":3.4894524,"hits":[{"_index":"faq","_type":"faq","_id":"5","_score":3.4894524,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"7","_score":2.3263016,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}}]}}
2019-08-01 16:50:38,202 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 16:50:38,204 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 3, after filter, remain num is 2
2019-08-01 16:50:38,210 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 7, 1, 2, 3, 4, 6], [0.0, 0.9170674681663513, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 16:50:38,210 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 7, 1, 2, 3, 4, 6]}}}}
2019-08-01 16:50:38,316 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 16:50:38,319 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.106s]
2019-08-01 16:50:38,321 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,7,1,2,3,4,6]}}}
2019-08-01 16:50:38,322 - elasticsearch - base.py[line:121] - DEBUG - < {"took":52,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 16:50:38,329 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 16:50:38,331 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 16:50:38,331 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 16:50:38,332 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 9, after, num is 7
2019-08-01 16:50:38,335 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 16:50:38,337 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 16:50:38,342 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,372 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,374 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,376 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,377 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,380 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,382 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 16:50:38,382 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 16:50:38,383 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,384 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,386 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,387 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,389 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,390 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,391 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 16:50:38,392 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 16:50:38,393 - match - match.py[line:138] - INFO - match calculation finished SUCCESS !
2019-08-01 16:50:38,699 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 16:50:38,701 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 16:50:38,710 - strategy - strategy.py[line:45] - INFO - do strategy SUCCESS !
2019-08-01 16:50:38,710 - strategy - strategy.py[line:46] - INFO - {"request": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "response": [{"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": true, "is_semantic": true, "term_score": 3.4894524, "semantic_score": 0.0, "score": 0.25, "bm25_similarity_score": 0.7815394937089001, "edit_similarity_score": 1.0, "jaccard_similarity_score": 0.9999999996666666, "abcnn_similarity": 0.0}, {"id": "7", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": true, "is_semantic": true, "term_score": 2.3263016, "semantic_score": 0.9170674681663513, "score": 0.25, "bm25_similarity_score": 0.6593699666814009, "edit_similarity_score": 0.6666666666666667, "jaccard_similarity_score": 0.499999999875, "abcnn_similarity": 0.0}, {"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}]}
2019-08-01 16:50:38,755 - strategy - strategy.py[line:49] - DEBUG - total cost time: 796.875 ms.
2019-08-01 16:50:38,763 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 16:50:38] "[37mGET /search?query=%22%E4%BD%A0%E6%98%AF%E8%B0%81%22 HTTP/1.1[0m" 200 -
2019-08-01 16:50:39,016 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 16:50:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2019-08-01 17:04:12,532 - werkzeug - _internal.py[line:88] - INFO -  * Detected change in 'D:\\Desktop\\\\code\\faq_demo\\src\\match.py', reloading
2019-08-01 17:04:16,049 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:04:18,278 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:04:18,279 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:04:18,279 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:04:18,284 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:04:18,286 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:04:18,286 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:04:18,286 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:04:18,286 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:04:23,075 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:04:23,075 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:04:23,076 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:04:23,076 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:04:23,076 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:04:23,077 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:04:24,122 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.045 seconds.
2019-08-01 17:04:24,123 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:04:24,123 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:04:24,124 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:04:24,319 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 217
2019-08-01 17:04:24,319 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.196s]
2019-08-01 17:04:24,320 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:04:24,320 - elasticsearch - base.py[line:121] - DEBUG - < {"took":130,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:04:24,320 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:04:24,320 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:04:24,371 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:04:24,371 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.049s]
2019-08-01 17:04:24,372 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:04:24,372 - elasticsearch - base.py[line:121] - DEBUG - < {"took":39,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":420,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":421,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":422,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":423,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":424,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":425,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":39,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":426,"_primary_term":3,"status":201}}]}
2019-08-01 17:04:24,372 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:04:27,372 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:04:27,374 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:04:27,386 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:04:27,387 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:04:27,387 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:04:27,389 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:04:27,392 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:04:27,394 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:04:27,395 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:04:27,430 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:04:27,431 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:04:27,431 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:04:27,432 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:04:27,505 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:04:27,507 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:04:29,293 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:04:29,382 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:04:29,715 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:04:29,787 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:04:30,233 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:04:30,282 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:04:31,028 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:04:31,081 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:04:31,156 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:04:31,167 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:04:31,387 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:04:31,387 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:04:31,388 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:04:31,672 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:04:31,685 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:04:31,711 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:05:16,055 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:05:16,056 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:05:16,057 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:05:16,060 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:05:16,062 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:05:16,062 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:05:16,062 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:05:16,062 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:05:20,562 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:05:20,564 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:05:20,564 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:05:20,564 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:05:20,564 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:05:20,564 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:05:21,743 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.178 seconds.
2019-08-01 17:05:21,744 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:05:21,745 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:05:21,747 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:05:21,821 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:05:21,822 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.074s]
2019-08-01 17:05:21,822 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:05:21,822 - elasticsearch - base.py[line:121] - DEBUG - < {"took":59,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:05:21,822 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:05:21,822 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:05:21,860 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:05:21,861 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.037s]
2019-08-01 17:05:21,864 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:05:21,864 - elasticsearch - base.py[line:121] - DEBUG - < {"took":26,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":434,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":435,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":436,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":437,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":438,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":439,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":41,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":440,"_primary_term":3,"status":201}}]}
2019-08-01 17:05:21,864 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:05:24,865 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:05:24,866 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:05:24,874 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:05:24,876 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:05:24,877 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:05:24,878 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:05:24,881 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:05:24,884 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:05:24,886 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:05:24,895 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:05:24,897 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:05:24,898 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:05:24,901 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:05:24,995 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:05:24,997 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:05:26,677 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:05:26,763 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:05:27,057 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:05:27,135 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:05:27,590 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:05:27,618 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:05:28,286 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:05:28,326 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:05:28,387 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:05:28,393 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:05:28,516 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:05:28,516 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:05:28,518 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:05:28,761 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:05:29,874 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:05:29,874 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:05:29,875 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:05:29,878 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:05:29,881 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:05:29,881 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:05:29,881 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:05:29,881 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:05:32,253 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:05:32,253 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:05:32,254 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:05:32,254 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:05:32,254 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:05:32,255 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:05:33,297 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.042 seconds.
2019-08-01 17:05:33,297 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:05:33,298 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:05:33,317 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:05:33,370 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:05:33,372 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.054s]
2019-08-01 17:05:33,372 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:05:33,372 - elasticsearch - base.py[line:121] - DEBUG - < {"took":40,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:05:33,372 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:05:33,372 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:05:33,410 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:05:33,411 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.037s]
2019-08-01 17:05:33,412 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:05:33,412 - elasticsearch - base.py[line:121] - DEBUG - < {"took":32,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":448,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":449,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":450,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":451,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":452,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":453,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":43,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":454,"_primary_term":3,"status":201}}]}
2019-08-01 17:05:33,412 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:05:36,413 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:05:36,414 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:05:36,468 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:05:36,469 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:05:36,470 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:05:36,470 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:05:36,472 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:05:36,474 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:05:36,475 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:05:36,479 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:05:36,480 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:05:36,480 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:05:36,482 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:05:36,521 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:05:36,522 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:05:37,463 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:05:37,549 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:05:37,856 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:05:37,931 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:05:38,356 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:05:38,386 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:05:39,048 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:05:39,088 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:05:39,148 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:05:39,152 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:05:39,255 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:05:39,256 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:05:39,257 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:05:39,469 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:05:39,479 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:05:39,504 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:07:12,692 - werkzeug - _internal.py[line:88] - INFO -  * Detected change in 'D:\\Desktop\\\\code\\faq_demo\\src\\config.py', reloading
2019-08-01 17:07:13,651 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:07:15,495 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:07:15,495 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:07:15,496 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:07:15,500 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:07:15,502 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:07:15,503 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:07:15,503 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:07:15,503 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:07:19,027 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:07:19,027 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:07:19,028 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:07:19,028 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:07:19,028 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:07:19,029 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:07:20,067 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.039 seconds.
2019-08-01 17:07:20,068 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:07:20,068 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:07:20,069 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:07:20,118 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:07:20,119 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.049s]
2019-08-01 17:07:20,119 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:07:20,120 - elasticsearch - base.py[line:121] - DEBUG - < {"took":37,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:07:20,120 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:07:20,120 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:07:20,166 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:07:20,166 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.045s]
2019-08-01 17:07:20,167 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:07:20,167 - elasticsearch - base.py[line:121] - DEBUG - < {"took":35,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":462,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":463,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":464,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":465,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":466,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":467,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":45,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":468,"_primary_term":3,"status":201}}]}
2019-08-01 17:07:20,168 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:07:23,170 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:07:23,172 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:07:23,180 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:07:23,181 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:07:23,182 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:07:23,184 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:07:23,185 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:07:23,188 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:07:23,190 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:07:23,196 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:07:23,199 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:07:23,201 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:07:23,202 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:07:23,276 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:07:23,278 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:07:24,247 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:07:24,323 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:07:24,619 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:07:24,703 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:07:25,140 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:07:25,169 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:07:25,933 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:07:25,974 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:07:26,043 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:07:26,050 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:07:26,161 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:07:26,161 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:07:26,161 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:07:26,398 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:07:26,407 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:07:26,424 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:10:20,722 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:10:20,749 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:10:20,751 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], 'query_tokens': ['', '', '']}
2019-08-01 17:10:20,752 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:10:20,794 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 1120
2019-08-01 17:10:20,794 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.038s]
2019-08-01 17:10:20,795 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:10:20,795 - elasticsearch - base.py[line:121] - DEBUG - < {"took":24,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":3,"relation":"eq"},"max_score":3.6816893,"hits":[{"_index":"faq","_type":"faq","_id":"5","_score":3.6816893,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"7","_score":2.4544594,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.4210029,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}}]}}
2019-08-01 17:10:20,795 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:10:20,795 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 3, after filter, remain num is 2
2019-08-01 17:10:20,796 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 7, 1, 2, 3, 4, 6], [0.0, 0.9170674681663513, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:10:20,796 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 7, 1, 2, 3, 4, 6]}}}}
2019-08-01 17:10:20,822 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 17:10:20,822 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.026s]
2019-08-01 17:10:20,822 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,7,1,2,3,4,6]}}}
2019-08-01 17:10:20,823 - elasticsearch - base.py[line:121] - DEBUG - < {"took":16,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:10:20,823 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:10:20,823 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:10:20,823 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:10:20,824 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 9, after, num is 7
2019-08-01 17:10:20,824 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:10:20,824 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:10:20,824 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,825 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,826 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,827 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,827 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,828 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,829 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:20,829 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:10:20,830 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,831 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,832 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,833 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,834 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,835 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,835 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:20,836 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:10:20,836 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 17:10:20,859 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:10:20,859 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:10:20,861 - strategy - strategy.py[line:45] - INFO - do strategy SUCCESS !
2019-08-01 17:10:20,861 - strategy - strategy.py[line:46] - INFO - {"request": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "response": [{"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": true, "is_semantic": true, "term_score": 3.6816893, "semantic_score": 0.0, "score": 0.25, "bm25_similarity_score": 0.7815394937089001, "edit_similarity_score": 1.0, "jaccard_similarity_score": 0.9999999996666666, "abcnn_similarity": 0.0}, {"id": "7", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": true, "is_semantic": true, "term_score": 2.4544594, "semantic_score": 0.9170674681663513, "score": 0.25, "bm25_similarity_score": 0.6593699666814009, "edit_similarity_score": 0.6666666666666667, "jaccard_similarity_score": 0.499999999875, "abcnn_similarity": 0.0}, {"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}]}
2019-08-01 17:10:20,867 - strategy - strategy.py[line:49] - DEBUG - total cost time: 46.875 ms.
2019-08-01 17:10:20,868 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:10:20] "[37mGET /search?query=%22%E4%BD%A0%E6%98%AF%E8%B0%81%22 HTTP/1.1[0m" 200 -
2019-08-01 17:10:23,539 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:10:23,543 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:10:23,544 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], 'query_tokens': ['', '', '']}
2019-08-01 17:10:23,545 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:10:23,563 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 1120
2019-08-01 17:10:23,564 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.019s]
2019-08-01 17:10:23,576 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:10:23,576 - elasticsearch - base.py[line:121] - DEBUG - < {"took":13,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":3,"relation":"eq"},"max_score":3.6816893,"hits":[{"_index":"faq","_type":"faq","_id":"5","_score":3.6816893,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"7","_score":2.4544594,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.4210029,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}}]}}
2019-08-01 17:10:23,576 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:10:23,577 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 3, after filter, remain num is 2
2019-08-01 17:10:23,577 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 7, 1, 2, 3, 4, 6], [0.0, 0.9170674681663513, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:10:23,577 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 7, 1, 2, 3, 4, 6]}}}}
2019-08-01 17:10:23,592 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 17:10:23,592 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.015s]
2019-08-01 17:10:23,595 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,7,1,2,3,4,6]}}}
2019-08-01 17:10:23,595 - elasticsearch - base.py[line:121] - DEBUG - < {"took":10,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:10:23,596 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:10:23,596 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:10:23,597 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:10:23,597 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 9, after, num is 7
2019-08-01 17:10:23,598 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:10:23,600 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:10:23,602 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,603 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,604 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,605 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,606 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,606 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,607 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:10:23,607 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:10:23,608 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,609 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,609 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,610 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,610 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,611 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,612 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:10:23,612 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:10:23,615 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 17:10:23,624 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:10:23,625 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:10:23,626 - strategy - strategy.py[line:45] - INFO - do strategy SUCCESS !
2019-08-01 17:10:23,627 - strategy - strategy.py[line:46] - INFO - {"request": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "response": [{"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": true, "is_semantic": true, "term_score": 3.6816893, "semantic_score": 0.0, "score": 0.25, "bm25_similarity_score": 0.7815394937089001, "edit_similarity_score": 1.0, "jaccard_similarity_score": 0.9999999996666666, "abcnn_similarity": 0.0}, {"id": "7", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": true, "is_semantic": true, "term_score": 2.4544594, "semantic_score": 0.9170674681663513, "score": 0.25, "bm25_similarity_score": 0.6593699666814009, "edit_similarity_score": 0.6666666666666667, "jaccard_similarity_score": 0.499999999875, "abcnn_similarity": 0.0}, {"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "\"\"", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "query_tokens": ["", "", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.0}]}
2019-08-01 17:10:23,636 - strategy - strategy.py[line:49] - DEBUG - total cost time: 156.25 ms.
2019-08-01 17:10:23,636 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:10:23] "[37mGET /search?query=%22%E4%BD%A0%E6%98%AF%E8%B0%81%22 HTTP/1.1[0m" 200 -
2019-08-01 17:12:27,446 - werkzeug - _internal.py[line:88] - INFO -  * Detected change in 'D:\\Desktop\\\\code\\faq_demo\\src\\match.py', reloading
2019-08-01 17:12:28,532 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:12:35,187 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:12:35,188 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:12:35,189 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:12:35,194 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:12:35,196 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:12:35,196 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:12:35,196 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:12:35,196 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:12:39,348 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:12:39,349 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:12:39,350 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:12:39,353 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:12:39,353 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:12:39,354 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:12:40,409 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.055 seconds.
2019-08-01 17:12:40,410 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:12:40,410 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:12:40,412 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:12:40,465 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:12:40,466 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.054s]
2019-08-01 17:12:40,467 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:12:40,467 - elasticsearch - base.py[line:121] - DEBUG - < {"took":41,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:12:40,467 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:12:40,468 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:12:40,541 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:12:40,542 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.072s]
2019-08-01 17:12:40,542 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:12:40,542 - elasticsearch - base.py[line:121] - DEBUG - < {"took":63,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":476,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":477,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":478,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":479,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":480,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":481,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":47,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":482,"_primary_term":3,"status":201}}]}
2019-08-01 17:12:40,543 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:12:43,546 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:12:43,548 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:12:43,559 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:12:43,561 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:12:43,561 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:12:43,563 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:12:43,568 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:12:43,570 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:12:43,571 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:12:43,578 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:12:43,584 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:12:43,586 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:12:43,587 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:12:43,628 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:12:43,629 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:12:45,165 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:12:45,236 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:12:45,529 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:12:45,598 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:12:46,032 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:12:46,065 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:12:46,720 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:12:46,740 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:12:46,802 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:12:46,826 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:12:46,949 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:12:46,950 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:12:46,950 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:12:47,220 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:12:48,351 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:12:48,352 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:12:48,352 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:12:48,355 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:12:48,358 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:12:48,358 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:12:48,358 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:12:48,358 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:12:50,779 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:12:50,781 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:12:50,781 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:12:50,782 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:12:50,782 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:12:50,783 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:12:51,813 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.030 seconds.
2019-08-01 17:12:51,814 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:12:51,814 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:12:51,816 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:12:51,863 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:12:51,865 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.049s]
2019-08-01 17:12:51,867 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:12:51,867 - elasticsearch - base.py[line:121] - DEBUG - < {"took":34,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:12:51,868 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:12:51,868 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:12:51,898 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:12:51,899 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.028s]
2019-08-01 17:12:51,900 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:12:51,900 - elasticsearch - base.py[line:121] - DEBUG - < {"took":25,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":490,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":491,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":492,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":493,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":494,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":495,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":49,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":496,"_primary_term":3,"status":201}}]}
2019-08-01 17:12:51,901 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:12:54,901 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:12:54,902 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:12:54,909 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:12:54,913 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:12:54,914 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:12:54,916 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:12:54,917 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:12:54,919 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:12:54,964 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:12:54,967 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:12:54,968 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:12:54,969 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:12:54,969 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:12:55,004 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:12:55,006 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:12:55,953 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:12:56,027 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:12:56,328 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:12:56,400 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:12:56,818 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:12:56,845 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:12:57,512 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:12:57,525 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:12:57,587 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:12:57,592 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:12:57,707 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:12:57,707 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:12:57,707 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:12:57,921 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:12:57,932 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:12:57,957 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:15:16,746 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:15:16,756 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:15:16,759 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], 'query_tokens': ['', '', '']}
2019-08-01 17:15:16,759 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:15:16,776 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 1120
2019-08-01 17:15:16,776 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.018s]
2019-08-01 17:15:16,777 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:15:16,777 - elasticsearch - base.py[line:121] - DEBUG - < {"took":11,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":3,"relation":"eq"},"max_score":3.6119184,"hits":[{"_index":"faq","_type":"faq","_id":"5","_score":3.6119184,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"7","_score":2.4079456,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.3940738,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}}]}}
2019-08-01 17:15:16,778 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:15:16,779 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 3, after filter, remain num is 2
2019-08-01 17:15:16,780 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 7, 1, 2, 3, 4, 6], [0.0, 0.9170674681663513, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:15:16,780 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 7, 1, 2, 3, 4, 6]}}}}
2019-08-01 17:15:16,805 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 17:15:16,806 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.025s]
2019-08-01 17:15:16,808 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,7,1,2,3,4,6]}}}
2019-08-01 17:15:16,808 - elasticsearch - base.py[line:121] - DEBUG - < {"took":12,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:15:16,808 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:15:16,809 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:15:16,809 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:15:16,810 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 9, after, num is 7
2019-08-01 17:15:16,810 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:15:16,812 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:15:16,812 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,814 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,814 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,816 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,816 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,818 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,820 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:15:16,820 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:15:16,852 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,854 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,854 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,855 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,855 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,856 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,858 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:15:16,861 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:15:17,158 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:15:17,159 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:15:17,196 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:15:17,198 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:15:17,199 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:15:17,208 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:15:17] "[37mGET /search?query=%22%E4%BD%A0%E6%98%AF%E8%B0%81%22 HTTP/1.1[0m" 200 -
2019-08-01 17:19:17,692 - werkzeug - _internal.py[line:88] - INFO -  * Detected change in 'D:\\Desktop\\\\code\\faq_demo\\src\\match.py', reloading
2019-08-01 17:19:18,698 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:19:21,652 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:19:21,655 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:19:21,656 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:19:21,662 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:19:21,665 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:19:21,665 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:19:21,665 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:19:21,666 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:19:27,402 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:19:27,402 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:19:27,403 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:19:27,403 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:19:27,403 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:19:27,404 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:19:28,993 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.590 seconds.
2019-08-01 17:19:28,993 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:19:28,995 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:19:28,995 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:19:29,037 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:19:29,038 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.042s]
2019-08-01 17:19:29,039 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:19:29,039 - elasticsearch - base.py[line:121] - DEBUG - < {"took":30,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:19:29,040 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:19:29,041 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:19:29,073 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:19:29,074 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.031s]
2019-08-01 17:19:29,074 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:19:29,075 - elasticsearch - base.py[line:121] - DEBUG - < {"took":25,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":504,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":505,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":506,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":507,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":508,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":509,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":51,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":510,"_primary_term":3,"status":201}}]}
2019-08-01 17:19:29,075 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:19:32,076 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:19:32,076 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:19:32,082 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:19:32,084 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:19:32,084 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:19:32,085 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:19:32,086 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:19:32,113 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:19:32,113 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:19:32,116 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:19:32,117 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:19:32,117 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:19:32,118 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:19:32,162 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:19:32,165 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:19:34,177 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:19:34,304 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:19:34,854 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:19:34,972 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:19:35,712 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:19:35,761 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:19:36,904 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:19:36,961 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:19:37,064 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:19:37,073 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:19:37,253 - init_abcnn - abcnn_model.py[line:223] - INFO - init abcnn model SUCCESS !
2019-08-01 17:19:37,253 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:19:37,254 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:19:37,672 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:19:37,685 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:19:37,703 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:21:22,148 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:21:22,153 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:21:22,153 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:21:22,154 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:21:22,170 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:21:22,170 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.017s]
2019-08-01 17:21:22,173 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:21:22,173 - elasticsearch - base.py[line:121] - DEBUG - < {"took":7,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:21:22,174 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:21:22,175 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:21:22,176 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:21:22,176 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:21:22,207 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 17:21:22,207 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.031s]
2019-08-01 17:21:22,210 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:21:22,210 - elasticsearch - base.py[line:121] - DEBUG - < {"took":20,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:21:22,211 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:21:22,212 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:21:22,213 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:21:22,214 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:21:22,214 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:21:22,217 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:21:22,224 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,226 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,227 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,263 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,264 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,265 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,265 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:22,266 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:21:22,266 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,267 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,267 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,268 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,269 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,269 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,271 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:22,272 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:21:22,479 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:21:22,479 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:21:22,498 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:21:22,500 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:21:22,501 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:21:22,509 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:22] "[37mGET /search?query=%22%E4%BD%A0%22 HTTP/1.1[0m" 200 -
2019-08-01 17:21:25,491 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:21:25,495 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:21:25,496 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:21:25,496 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:21:25,504 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:21:25,505 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.010s]
2019-08-01 17:21:25,506 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:21:25,507 - elasticsearch - base.py[line:121] - DEBUG - < {"took":2,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:21:25,507 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:21:25,507 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:21:25,507 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:21:25,507 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:21:25,516 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:21:25,517 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.010s]
2019-08-01 17:21:25,521 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:21:25,521 - elasticsearch - base.py[line:121] - DEBUG - < {"took":3,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:21:25,522 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:21:25,522 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:21:25,523 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:21:25,523 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:21:25,523 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:21:25,524 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:21:25,525 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,526 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,526 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,527 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,527 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,528 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,529 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:21:25,529 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:21:25,530 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,531 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,534 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,535 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,535 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,537 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,537 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:21:25,537 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:21:25,566 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:25] "[1m[35mGET /search?query=%22%E4%BD%A0%22 HTTP/1.1[0m" 500 -
2019-08-01 17:21:25,609 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:25] "[37mGET /search?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1[0m" 200 -
2019-08-01 17:21:25,611 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:25] "[37mGET /search?__debugger__=yes&cmd=resource&f=jquery.js HTTP/1.1[0m" 200 -
2019-08-01 17:21:25,615 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:25] "[37mGET /search?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1[0m" 200 -
2019-08-01 17:21:25,918 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:25] "[37mGET /search?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1[0m" 200 -
2019-08-01 17:21:25,943 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:25] "[37mGET /search?__debugger__=yes&cmd=resource&f=ubuntu.ttf HTTP/1.1[0m" 200 -
2019-08-01 17:21:26,002 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:21:26] "[37mGET /search?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1[0m" 200 -
2019-08-01 17:24:01,000 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:24:01,002 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:24:01,003 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:24:01,003 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:24:01,013 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:24:01,014 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.011s]
2019-08-01 17:24:01,015 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:24:01,015 - elasticsearch - base.py[line:121] - DEBUG - < {"took":3,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:24:01,016 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:24:01,016 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:24:01,017 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:24:01,017 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:24:01,029 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:24:01,031 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.013s]
2019-08-01 17:24:01,036 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:24:01,037 - elasticsearch - base.py[line:121] - DEBUG - < {"took":6,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:24:01,037 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:24:01,038 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:24:01,039 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:24:01,039 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:24:01,039 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:24:01,073 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:24:01,075 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,077 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,078 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,086 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,088 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,089 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,090 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:24:01,090 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:24:01,091 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,092 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,092 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,093 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,095 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,096 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,096 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:24:01,097 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:24:01,125 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:24:01] "[1m[35mGET /search?query=%22%E4%BD%A0%22 HTTP/1.1[0m" 500 -
2019-08-01 17:24:01,164 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:24:01] "[37mGET /search?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1[0m" 200 -
2019-08-01 17:24:01,175 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:24:01] "[37mGET /search?__debugger__=yes&cmd=resource&f=jquery.js HTTP/1.1[0m" 200 -
2019-08-01 17:24:01,175 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:24:01] "[37mGET /search?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1[0m" 200 -
2019-08-01 17:24:01,371 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:24:01] "[37mGET /search?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1[0m" 200 -
2019-08-01 17:24:01,402 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:24:01] "[37mGET /search?__debugger__=yes&cmd=resource&f=ubuntu.ttf HTTP/1.1[0m" 200 -
2019-08-01 17:32:15,597 - werkzeug - _internal.py[line:88] - INFO -  * Detected change in 'D:\\Desktop\\\\code\\faq_demo\\src\\abcnn\\abcnn_model.py', reloading
2019-08-01 17:32:16,776 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:32:18,669 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:32:18,670 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:32:18,670 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:32:18,674 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:32:18,676 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:32:18,676 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:32:18,677 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:32:18,677 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:32:22,550 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:32:22,550 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:32:22,551 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:32:22,551 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:32:22,552 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:32:22,552 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:32:23,629 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.076 seconds.
2019-08-01 17:32:23,629 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:32:23,630 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:32:23,631 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:32:23,687 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:32:23,688 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.058s]
2019-08-01 17:32:23,689 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:32:23,689 - elasticsearch - base.py[line:121] - DEBUG - < {"took":43,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:32:23,689 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:32:23,690 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:32:23,738 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:32:23,738 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.047s]
2019-08-01 17:32:23,739 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:32:23,739 - elasticsearch - base.py[line:121] - DEBUG - < {"took":39,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":518,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":519,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":520,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":521,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":522,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":523,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":53,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":524,"_primary_term":3,"status":201}}]}
2019-08-01 17:32:23,740 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:32:26,741 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:32:26,743 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:32:26,792 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:32:26,793 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:32:26,793 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:32:26,793 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:32:26,794 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:32:26,795 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:32:26,795 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:32:26,798 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:32:26,799 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:32:26,800 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:32:26,801 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:32:26,836 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:32:26,838 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:32:28,281 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:32:28,363 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:32:28,661 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:32:28,733 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:32:29,150 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:32:29,178 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:32:29,839 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:32:29,896 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:32:29,954 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:32:29,982 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:32:30,117 - init_abcnn - abcnn_model.py[line:226] - INFO - init abcnn model SUCCESS !
2019-08-01 17:32:30,118 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:32:30,118 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:32:30,374 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:32:30,386 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:32:30,407 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:32:38,757 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:32:38,762 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:32:38,762 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:32:38,762 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:32:38,776 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:32:38,777 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.014s]
2019-08-01 17:32:38,778 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:32:38,779 - elasticsearch - base.py[line:121] - DEBUG - < {"took":6,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:32:38,779 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:32:38,780 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:32:38,780 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:32:38,780 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:32:38,792 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:32:38,792 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.012s]
2019-08-01 17:32:38,795 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:32:38,795 - elasticsearch - base.py[line:121] - DEBUG - < {"took":5,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:32:38,796 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:32:38,797 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:32:38,797 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:32:38,798 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:32:38,798 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:32:38,800 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:32:38,801 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,802 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,803 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,805 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,805 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,807 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,846 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:38,847 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:32:38,848 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,849 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,850 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,851 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,853 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,853 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,853 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:38,854 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:32:39,069 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:32:39,070 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:32:39,114 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:32:39,115 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:32:39,116 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:32:39,123 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:32:39] "[37mGET /search?query=%22%E4%BD%A0%22 HTTP/1.1[0m" 200 -
2019-08-01 17:32:48,612 - faq - server.py[line:39] - INFO - origin query: ""
2019-08-01 17:32:48,614 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:32:48,615 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '""', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:32:48,615 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': '""'}}}}
2019-08-01 17:32:48,625 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:32:48,626 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.010s]
2019-08-01 17:32:48,628 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"\"\""}}}
2019-08-01 17:32:48,629 - elasticsearch - base.py[line:121] - DEBUG - < {"took":1,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:32:48,629 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:32:48,633 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:32:48,633 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:32:48,634 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:32:48,648 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:32:48,649 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.015s]
2019-08-01 17:32:48,683 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:32:48,683 - elasticsearch - base.py[line:121] - DEBUG - < {"took":9,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:32:48,684 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:32:48,684 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:32:48,684 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:32:48,685 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:32:48,685 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:32:48,685 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:32:48,687 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,688 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,690 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,690 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,691 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,691 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,692 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:32:48,694 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:32:48,694 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,694 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,695 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,696 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,696 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,696 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,696 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:32:48,697 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:32:48,706 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:32:48,706 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:32:48,715 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:32:48,717 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:32:48,717 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:32:48,721 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:32:48] "[37mGET /search?query=%22%E4%BD%A0%22 HTTP/1.1[0m" 200 -
2019-08-01 17:37:41,961 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:37:41,965 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:37:41,966 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:37:41,966 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:37:41,982 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 767
2019-08-01 17:37:41,983 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.017s]
2019-08-01 17:37:41,984 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:37:41,984 - elasticsearch - base.py[line:121] - DEBUG - < {"took":10,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:41,985 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:37:41,986 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:37:41,986 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:37:41,987 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:37:41,998 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:37:41,999 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.012s]
2019-08-01 17:37:42,002 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:37:42,002 - elasticsearch - base.py[line:121] - DEBUG - < {"took":5,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:42,003 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:37:42,003 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:37:42,004 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:37:42,006 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:37:42,006 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:37:42,040 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:37:42,042 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,043 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,044 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,045 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,045 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,046 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,047 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:42,048 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:37:42,049 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,049 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,050 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,051 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,052 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,052 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,053 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:42,053 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:37:42,063 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:37:42,064 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:37:42,077 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:37:42,078 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:37:42,079 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:37:42,083 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:37:42] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 17:37:44,708 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:37:44,710 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:37:44,711 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:37:44,711 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:37:44,719 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:37:44,720 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.009s]
2019-08-01 17:37:44,721 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:37:44,721 - elasticsearch - base.py[line:121] - DEBUG - < {"took":2,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:44,721 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:37:44,727 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:37:44,727 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:37:44,728 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:37:44,741 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:37:44,743 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.014s]
2019-08-01 17:37:44,745 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:37:44,745 - elasticsearch - base.py[line:121] - DEBUG - < {"took":5,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:44,746 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:37:44,746 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:37:44,747 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:37:44,747 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:37:44,747 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:37:44,748 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:37:44,748 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,749 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,749 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,750 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,750 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,751 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,752 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:44,752 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:37:44,754 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,755 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,756 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,757 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,758 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,759 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,759 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:44,796 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:37:44,809 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:37:44,811 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:37:44,819 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:37:44,820 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:37:44,821 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:37:44,826 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:37:44] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 17:37:45,547 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:37:45,549 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:37:45,550 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:37:45,550 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:37:45,555 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:37:45,556 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.006s]
2019-08-01 17:37:45,556 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:37:45,556 - elasticsearch - base.py[line:121] - DEBUG - < {"took":1,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:45,557 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:37:45,557 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:37:45,558 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:37:45,558 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:37:45,566 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:37:45,567 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.009s]
2019-08-01 17:37:45,568 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:37:45,569 - elasticsearch - base.py[line:121] - DEBUG - < {"took":4,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:45,569 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:37:45,606 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:37:45,607 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:37:45,607 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:37:45,608 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:37:45,609 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:37:45,610 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,611 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,612 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,612 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,614 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,614 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,615 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:45,616 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:37:45,616 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,617 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,618 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,618 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,619 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,619 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,620 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:45,621 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:37:45,629 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:37:45,630 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:37:45,644 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:37:45,645 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:37:45,646 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:37:45,650 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:37:45] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 17:37:46,289 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:37:46,292 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:37:46,293 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:37:46,293 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:37:46,302 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:37:46,303 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.009s]
2019-08-01 17:37:46,305 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:37:46,305 - elasticsearch - base.py[line:121] - DEBUG - < {"took":2,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:46,306 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:37:46,306 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:37:46,307 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:37:46,307 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:37:46,316 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:37:46,317 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.010s]
2019-08-01 17:37:46,317 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:37:46,317 - elasticsearch - base.py[line:121] - DEBUG - < {"took":3,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:37:46,318 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:37:46,319 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:37:46,319 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:37:46,320 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:37:46,320 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:37:46,322 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:37:46,324 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,325 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,327 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,327 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,328 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,328 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,329 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:37:46,330 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:37:46,331 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,332 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,333 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,334 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,334 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,334 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,335 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:37:46,336 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:37:46,346 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:37:46,347 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:37:46,390 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:37:46,390 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:37:46,391 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 44, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:37:46,396 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:37:46] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 17:39:46,326 - werkzeug - _internal.py[line:88] - INFO -  * Detected change in 'D:\\Desktop\\\\code\\faq_demo\\src\\strategy.py', reloading
2019-08-01 17:39:47,055 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:39:48,982 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:39:48,983 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:39:48,983 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:39:48,987 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:39:48,990 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:39:48,990 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:39:48,990 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:39:48,991 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:39:52,726 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:39:52,727 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:39:52,727 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:39:52,727 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:39:52,728 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:39:52,728 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:39:53,745 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.017 seconds.
2019-08-01 17:39:53,746 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:39:53,746 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:39:53,747 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:39:53,784 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:39:53,785 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.039s]
2019-08-01 17:39:53,786 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:39:53,786 - elasticsearch - base.py[line:121] - DEBUG - < {"took":30,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:39:53,786 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:39:53,787 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:39:53,815 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:39:53,816 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.027s]
2019-08-01 17:39:53,817 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:39:53,817 - elasticsearch - base.py[line:121] - DEBUG - < {"took":23,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":532,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":533,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":534,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":535,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":536,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":537,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":55,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":538,"_primary_term":3,"status":201}}]}
2019-08-01 17:39:53,817 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:39:56,818 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:39:56,820 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:39:56,827 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:39:56,828 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:39:56,829 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:39:56,830 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:39:56,831 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:39:56,833 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:39:56,834 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:39:56,840 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:39:56,842 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:39:56,843 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:39:56,845 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:39:56,913 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:39:56,915 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:39:58,207 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:39:58,285 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:39:58,596 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:39:58,666 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:39:59,097 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:39:59,121 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:39:59,787 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:39:59,825 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:39:59,884 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:39:59,891 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:40:00,008 - init_abcnn - abcnn_model.py[line:226] - INFO - init abcnn model SUCCESS !
2019-08-01 17:40:00,008 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:40:00,009 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:40:00,242 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:40:00,251 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:40:00,267 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:40:03,888 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:40:03,894 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:40:03,894 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:40:03,895 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:40:03,903 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:40:03,903 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.008s]
2019-08-01 17:40:03,904 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:40:03,904 - elasticsearch - base.py[line:121] - DEBUG - < {"took":4,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:40:03,904 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:40:03,905 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:40:03,905 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:40:03,905 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:40:03,917 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 17:40:03,918 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.012s]
2019-08-01 17:40:03,918 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:40:03,918 - elasticsearch - base.py[line:121] - DEBUG - < {"took":7,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:40:03,919 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:40:03,948 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:40:03,949 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:40:03,949 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:40:03,949 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:40:03,950 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:40:03,950 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,950 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,951 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,951 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,951 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,952 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,952 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:40:03,952 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:40:03,952 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,953 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,953 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,953 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,953 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,954 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,954 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:40:03,955 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:40:04,116 - abcnn - match.py[line:132] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:40:04,116 - match - match.py[line:140] - INFO - match calculation finished SUCCESS !
2019-08-01 17:40:04,124 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:40:04,126 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:40:04,132 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 45, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:40:04,137 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:40:04] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 17:54:57,730 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:54:57,733 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:54:57,733 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:54:57,739 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:54:57,742 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:54:57,742 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:54:57,742 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:54:57,742 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:55:03,420 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:55:03,424 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:55:03,424 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:55:03,425 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:55:03,426 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:55:03,426 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:55:04,479 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.053 seconds.
2019-08-01 17:55:04,480 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:55:04,480 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:55:04,481 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:55:04,809 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 217
2019-08-01 17:55:04,810 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.329s]
2019-08-01 17:55:04,811 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:55:04,811 - elasticsearch - base.py[line:121] - DEBUG - < {"took":161,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:55:04,811 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:55:04,811 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:55:04,880 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:55:04,880 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.067s]
2019-08-01 17:55:04,881 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:55:04,881 - elasticsearch - base.py[line:121] - DEBUG - < {"took":54,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":546,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":547,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":548,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":549,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":550,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":551,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":57,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":552,"_primary_term":3,"status":201}}]}
2019-08-01 17:55:04,881 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:55:07,883 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:55:07,885 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:55:07,971 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:55:07,972 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:55:07,972 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:55:07,972 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:55:07,976 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:55:07,978 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:55:07,978 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:55:07,988 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:55:07,989 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:55:07,989 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:55:07,990 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:55:08,066 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:55:08,068 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:55:10,148 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:55:10,233 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:55:10,552 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:55:10,618 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:55:11,109 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:55:11,160 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:55:11,881 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:55:11,918 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:55:11,982 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:55:11,997 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:55:12,193 - init_abcnn - abcnn_model.py[line:226] - INFO - init abcnn model SUCCESS !
2019-08-01 17:55:12,193 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:55:12,194 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:55:12,480 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 17:55:14,594 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 17:55:14,595 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 17:55:14,596 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 17:55:14,601 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 17:55:14,603 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 17:55:14,604 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 17:55:14,604 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 17:55:14,604 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 17:55:18,983 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 17:55:18,984 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 17:55:18,984 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 17:55:18,985 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 17:55:18,986 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 17:55:18,986 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 17:55:20,013 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.027 seconds.
2019-08-01 17:55:20,014 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 17:55:20,014 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 17:55:20,015 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 17:55:20,072 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 17:55:20,073 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.059s]
2019-08-01 17:55:20,074 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 17:55:20,074 - elasticsearch - base.py[line:121] - DEBUG - < {"took":45,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 17:55:20,074 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 17:55:20,074 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 17:55:20,154 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 17:55:20,154 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.077s]
2019-08-01 17:55:20,155 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 17:55:20,155 - elasticsearch - base.py[line:121] - DEBUG - < {"took":73,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":560,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":561,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":562,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":563,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":564,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":565,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":59,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":566,"_primary_term":3,"status":201}}]}
2019-08-01 17:55:20,155 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 17:55:23,157 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 17:55:23,158 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 17:55:23,170 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 17:55:23,171 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 17:55:23,172 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 17:55:23,173 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 17:55:23,175 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 17:55:23,177 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 17:55:23,178 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 17:55:23,183 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 17:55:23,185 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 17:55:23,186 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 17:55:23,188 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 17:55:23,277 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 17:55:23,280 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 17:55:25,727 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 17:55:25,799 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 17:55:26,098 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 17:55:26,167 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 17:55:26,587 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 17:55:26,613 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 17:55:27,274 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 17:55:27,316 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 17:55:27,374 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 17:55:27,380 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 17:55:27,495 - init_abcnn - abcnn_model.py[line:226] - INFO - init abcnn model SUCCESS !
2019-08-01 17:55:27,496 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 17:55:27,496 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 17:55:27,745 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 17:55:27,757 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 17:55:27,790 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 17:55:44,679 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:55:44,693 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:55:44,694 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:55:44,694 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:55:44,743 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 767
2019-08-01 17:55:44,743 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.048s]
2019-08-01 17:55:44,744 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:55:44,744 - elasticsearch - base.py[line:121] - DEBUG - < {"took":23,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3940738,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3940738,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.2039728,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:55:44,745 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:55:44,745 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:55:44,746 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:55:44,746 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:55:44,783 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 17:55:44,783 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.036s]
2019-08-01 17:55:44,793 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:55:44,794 - elasticsearch - base.py[line:121] - DEBUG - < {"took":21,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:55:44,794 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:55:44,795 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:55:44,795 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:55:44,796 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:55:44,796 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:55:44,797 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:55:44,798 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,799 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,800 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,800 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,801 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,802 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,802 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:44,803 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:55:44,803 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,804 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,804 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,805 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,806 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,806 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,807 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:44,807 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:55:45,126 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:55:45,127 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 17:55:45,171 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:55:45,173 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:55:45,184 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 45, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:55:45,192 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:55:45] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 17:55:47,215 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 17:55:47,216 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 17:55:47,217 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 17:55:47,217 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 17:55:47,224 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 766
2019-08-01 17:55:47,225 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.008s]
2019-08-01 17:55:47,226 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 17:55:47,226 - elasticsearch - base.py[line:121] - DEBUG - < {"took":2,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3940738,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3940738,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.2039728,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:55:47,226 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 17:55:47,227 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 17:55:47,227 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 17:55:47,228 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 17:55:47,244 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 17:55:47,245 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.017s]
2019-08-01 17:55:47,246 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 17:55:47,246 - elasticsearch - base.py[line:121] - DEBUG - < {"took":11,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 17:55:47,247 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 17:55:47,254 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 17:55:47,254 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 17:55:47,286 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 17:55:47,286 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 17:55:47,287 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 17:55:47,287 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,288 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,288 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,289 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,289 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,290 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,290 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 17:55:47,291 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 17:55:47,292 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,292 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,293 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,294 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,294 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,295 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,297 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 17:55:47,298 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 17:55:47,308 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 17:55:47,309 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 17:55:47,321 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 17:55:47,322 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 17:55:47,332 - faq - server.py[line:44] - ERROR - ERROR: NO query in request !
Traceback (most recent call last):
  File "src/server.py", line 41, in faq
    rsp = strategy(query, faq_config)
  File "src\..\src\strategy.py", line 45, in strategy
    rsp_json = json.dumps(rsp, ensure_ascii=False)
  File "D:\program.successfully\Anaconda\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\program.successfully\Anaconda\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable
2019-08-01 17:55:47,337 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 17:55:47] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 18:19:06,095 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 18:19:06,097 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 18:19:06,098 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 18:19:06,105 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 18:19:06,109 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 18:19:06,109 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 18:19:06,109 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 18:19:06,109 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 18:19:12,316 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 18:19:12,317 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 18:19:12,318 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 18:19:12,319 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 18:19:12,320 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 18:19:12,321 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 18:19:13,884 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.563 seconds.
2019-08-01 18:19:13,884 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 18:19:13,885 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 18:19:13,886 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 18:19:14,410 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 217
2019-08-01 18:19:14,413 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.526s]
2019-08-01 18:19:14,414 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 18:19:14,415 - elasticsearch - base.py[line:121] - DEBUG - < {"took":349,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 18:19:14,415 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 18:19:14,417 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 18:19:14,502 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 18:19:14,503 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.082s]
2019-08-01 18:19:14,508 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 18:19:14,509 - elasticsearch - base.py[line:121] - DEBUG - < {"took":62,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":574,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":575,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":576,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":577,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":578,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":579,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":61,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":580,"_primary_term":3,"status":201}}]}
2019-08-01 18:19:14,511 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 18:19:17,513 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 18:19:17,514 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 18:19:17,522 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 18:19:17,525 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 18:19:17,525 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 18:19:17,526 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 18:19:17,530 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 18:19:17,533 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 18:19:17,535 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 18:19:17,548 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 18:19:17,550 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 18:19:17,552 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 18:19:17,554 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 18:19:17,711 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 18:19:17,715 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 18:19:20,496 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 18:19:20,636 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 18:19:21,076 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 18:19:21,200 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 18:19:21,909 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 18:19:21,981 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 18:19:23,098 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 18:19:23,117 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 18:19:23,194 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 18:19:23,208 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 18:19:23,473 - init_abcnn - abcnn_model.py[line:226] - INFO - init abcnn model SUCCESS !
2019-08-01 18:19:23,473 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 18:19:23,474 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 18:19:23,885 - werkzeug - _internal.py[line:88] - INFO -  * Restarting with stat
2019-08-01 18:19:26,580 - matplotlib - __init__.py[line:415] - DEBUG - $HOME=C:\Users\Administrator
2019-08-01 18:19:26,581 - matplotlib - __init__.py[line:415] - DEBUG - CONFIGDIR=C:\Users\Administrator\.matplotlib
2019-08-01 18:19:26,582 - matplotlib - __init__.py[line:415] - DEBUG - matplotlib data path: D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data
2019-08-01 18:19:26,589 - matplotlib - __init__.py[line:1093] - DEBUG - loaded rc file D:\program.successfully\Anaconda\lib\site-packages\matplotlib\mpl-data\matplotlibrc
2019-08-01 18:19:26,593 - matplotlib - __init__.py[line:1819] - DEBUG - matplotlib version 3.0.3
2019-08-01 18:19:26,593 - matplotlib - __init__.py[line:1820] - DEBUG - interactive is False
2019-08-01 18:19:26,594 - matplotlib - __init__.py[line:1821] - DEBUG - platform is win32
2019-08-01 18:19:26,594 - matplotlib - __init__.py[line:1822] - DEBUG - loaded modules: ['sys', 'builtins', '_frozen_importlib', '_imp', '_thread', '_warnings', '_weakref', 'zipimport', '_frozen_importlib_external', '_io', 'marshal', 'nt', 'winreg', 'encodings', 'codecs', '_codecs', 'encodings.aliases', 'encodings.utf_8', '_signal', '__main__', 'encodings.latin_1', 'io', 'abc', '_abc', 'site', 'os', 'stat', '_stat', 'ntpath', 'genericpath', 'os.path', '_collections_abc', '_sitebuiltins', '_bootlocale', '_locale', 'encodings.gbk', '_codecs_cn', '_multibytecodec', 'types', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'warnings', 'importlib.util', 'importlib.abc', 'importlib.machinery', 'contextlib', 'collections', 'operator', '_operator', 'keyword', 'heapq', '_heapq', 'itertools', 'reprlib', '_collections', 'functools', '_functools', 'mpl_toolkits', 'google', 'sphinxcontrib', 'src', 'src.config', 'configparser', 'collections.abc', 're', 'enum', 'sre_compile', '_sre', 'sre_parse', 'sre_constants', 'copyreg', 'src.utils', 'string', '_string', 'zhon', 'zhon.hanzi', '__future__', 'jieba', 'time', 'logging', 'traceback', 'linecache', 'tokenize', 'token', 'weakref', '_weakrefset', 'threading', 'atexit', 'tempfile', 'shutil', 'fnmatch', 'posixpath', 'errno', 'zlib', 'bz2', '_compression', '_bz2', 'lzma', '_lzma', 'random', 'math', 'hashlib', '_hashlib', '_blake2', '_sha3', 'bisect', '_bisect', '_random', 'jieba._compat', 'pkg_resources', 'zipfile', 'struct', '_struct', 'binascii', 'pkgutil', 'platform', 'subprocess', 'signal', 'msvcrt', '_winapi', 'plistlib', 'datetime', '_datetime', 'xml', 'xml.parsers', 'xml.parsers.expat', 'pyexpat.errors', 'pyexpat.model', 'pyexpat', 'xml.parsers.expat.model', 'xml.parsers.expat.errors', 'email', 'email.parser', 'email.feedparser', 'email.errors', 'email._policybase', 'email.header', 'email.quoprimime', 'email.base64mime', 'base64', 'email.charset', 'email.encoders', 'quopri', 'email.utils', 'socket', '_socket', 'selectors', 'select', 'urllib', 'urllib.parse', 'email._parseaddr', 'calendar', 'locale', 'textwrap', 'inspect', 'dis', 'opcode', '_opcode', 'pkg_resources.extern', 'pkg_resources._vendor', 'pkg_resources.extern.six', 'pkg_resources._vendor.six', 'pkg_resources.extern.six.moves', 'pkg_resources._vendor.six.moves', 'pkg_resources.py31compat', 'win32com', 'win32api', 'pythoncom', 'pywintypes', 'imp', '_win32sysloader', 'win32com.gen_py', 'win32com.shell', 'pkg_resources.extern.appdirs', 'pkg_resources._vendor.packaging.__about__', 'pkg_resources.extern.packaging', 'pkg_resources.extern.packaging.version', 'pkg_resources.extern.packaging._structures', 'pkg_resources.extern.packaging.specifiers', 'pkg_resources.extern.packaging._compat', 'pkg_resources.extern.packaging.requirements', 'copy', 'pprint', 'pkg_resources.extern.pyparsing', 'pkg_resources.extern.six.moves.urllib', 'pkg_resources.extern.packaging.markers', 'sysconfig', 'jieba.finalseg', 'pickle', '_compat_pickle', '_pickle', 'jieba.finalseg.prob_start', 'jieba.finalseg.prob_trans', 'jieba.finalseg.prob_emit', 'logging.config', 'logging.handlers', 'queue', '_queue', 'socketserver', 'json', 'json.decoder', 'json.scanner', '_json', 'json.encoder', 'flask', 'werkzeug', 'werkzeug._compat', 'werkzeug.exceptions', 'werkzeug._internal', 'werkzeug.wrappers', 'werkzeug.http', 'urllib.request', 'http', 'http.client', 'email.message', 'uu', 'email._encoded_words', 'email.iterators', 'ssl', '_ssl', 'urllib.error', 'urllib.response', 'nturl2path', 'werkzeug.datastructures', 'mimetypes', 'werkzeug.filesystem', 'werkzeug.urls', 'werkzeug.formparser', 'werkzeug.wsgi', 'werkzeug.utils', 'html', 'html.entities', 'jinja2', 'jinja2.environment', 'jinja2.nodes', 'jinja2.utils', 'jinja2._compat', 'markupsafe', 'markupsafe._compat', 'markupsafe._speedups', 'jinja2.defaults', 'jinja2.filters', 'jinja2.runtime', 'jinja2.exceptions', 'jinja2.tests', 'decimal', 'numbers', '_decimal', 'jinja2.lexer', 'unicodedata', 'jinja2.parser', 'jinja2.compiler', 'jinja2.visitor', 'jinja2.optimizer', 'jinja2.idtracking', 'jinja2.loaders', 'jinja2.bccache', 'jinja2.asyncsupport', 'asyncio', 'asyncio.base_events', 'concurrent', 'concurrent.futures', 'concurrent.futures._base', 'asyncio.constants', 'asyncio.coroutines', 'asyncio.base_futures', 'asyncio.format_helpers', 'asyncio.log', 'asyncio.events', 'contextvars', '_contextvars', 'asyncio.base_tasks', '_asyncio', 'asyncio.futures', 'asyncio.protocols', 'asyncio.sslproto', 'asyncio.transports', 'asyncio.tasks', 'asyncio.locks', 'asyncio.runners', 'asyncio.queues', 'asyncio.streams', 'asyncio.subprocess', 'asyncio.windows_events', '_overlapped', 'asyncio.base_subprocess', 'asyncio.proactor_events', 'asyncio.selector_events', 'asyncio.windows_utils', 'jinja2.asyncfilters', 'flask.app', 'werkzeug.routing', 'difflib', 'uuid', 'flask.cli', 'ast', '_ast', 'click', 'click.core', 'click.types', 'click._compat', 'click._winconsole', 'ctypes', '_ctypes', 'ctypes._endian', 'ctypes.wintypes', 'colorama', 'colorama.initialise', 'colorama.ansitowin32', 'colorama.ansi', 'colorama.winterm', 'colorama.win32', 'click.exceptions', 'click.utils', 'click.globals', 'click.termui', 'click.formatting', 'click.parser', 'click._unicodefun', 'click.decorators', 'flask._compat', 'flask.globals', 'werkzeug.local', 'greenlet', 'flask.helpers', 'flask.signals', 'flask.json', 'itsdangerous', 'itsdangerous._json', 'itsdangerous.encoding', 'itsdangerous._compat', 'hmac', 'itsdangerous.exc', 'itsdangerous.jws', 'itsdangerous.serializer', 'itsdangerous.signer', 'itsdangerous.timed', 'itsdangerous.url_safe', 'flask.config', 'flask.ctx', 'flask.logging', 'flask.sessions', 'flask.json.tag', 'flask.templating', 'flask.wrappers', 'flask.blueprints', 'src.strategy', 'src.rank', 'src.light_gbm', 'lightgbm', 'lightgbm.basic', 'numpy', 'numpy._globals', 'numpy.__config__', 'numpy.version', 'numpy._distributor_init', 'numpy._mklinit', 'numpy.core', 'numpy.core.info', 'glob', 'numpy.core.multiarray', 'numpy.core.overrides', 'numpy.core._multiarray_umath', 'numpy.compat', 'numpy.compat._inspect', 'numpy.compat.py3k', 'pathlib', 'numpy.core.umath', 'numpy.core.numerictypes', 'numpy.core._string_helpers', 'numpy.core._type_aliases', 'numpy.core._dtype', 'numpy.core.numeric', 'numpy.core._internal', 'numpy.core.fromnumeric', 'numpy.core._methods', 'numpy.core.arrayprint', 'numpy.core.defchararray', 'numpy.core.records', 'numpy.core.memmap', 'numpy.core.function_base', 'numpy.core.machar', 'numpy.core.getlimits', 'numpy.core.shape_base', 'numpy.core.einsumfunc', 'numpy.core._add_newdocs', 'numpy.core._multiarray_tests', 'numpy.core._dtype_ctypes', 'numpy._pytesttester', 'numpy.lib', 'numpy.lib.info', 'numpy.lib.type_check', 'numpy.lib.ufunclike', 'numpy.lib.index_tricks', 'numpy.matrixlib', 'numpy.matrixlib.defmatrix', 'numpy.linalg', 'numpy.linalg.info', 'numpy.linalg.linalg', 'numpy.lib.twodim_base', 'numpy.linalg.lapack_lite', 'numpy.linalg._umath_linalg', 'numpy.lib.function_base', 'numpy.lib.utils', 'numpy.lib.histograms', 'numpy.lib.stride_tricks', 'numpy.lib.mixins', 'numpy.lib.nanfunctions', 'numpy.lib.shape_base', 'numpy.lib.scimath', 'numpy.lib.polynomial', 'numpy.lib.arraysetops', 'numpy.lib.npyio', 'numpy.lib.format', 'numpy.lib._datasource', 'numpy.lib._iotools', 'numpy.lib.financial', 'numpy.lib.arrayterator', 'numpy.lib.arraypad', 'numpy.lib._version', 'numpy.fft', 'numpy.fft.info', 'numpy.fft.fftpack', 'numpy.fft.fftpack_lite', 'numpy.fft.helper', 'mkl_fft', 'mkl_fft._pydfti', '_cython_0_29_2', 'cython_runtime', 'mkl_fft._version', 'mkl_fft._numpy_fft', 'numpy.polynomial', 'numpy.polynomial.polynomial', 'numpy.polynomial.polyutils', 'numpy.polynomial._polybase', 'numpy.polynomial.chebyshev', 'numpy.polynomial.legendre', 'numpy.polynomial.hermite', 'numpy.polynomial.hermite_e', 'numpy.polynomial.laguerre', 'numpy.random', 'numpy.random.mtrand', 'mtrand', 'numpy.ctypeslib', 'numpy.ma', 'numpy.ma.core', 'numpy.ma.extras', 'numpy.testing', 'unittest', 'unittest.result', 'unittest.util', 'unittest.case', 'unittest.suite', 'unittest.loader', 'unittest.main', 'argparse', 'gettext', 'unittest.runner', 'unittest.signals', 'numpy.testing._private', 'numpy.testing._private.utils', 'gc', 'numpy.testing._private.decorators', 'numpy.testing._private.nosetester', 'scipy', 'scipy._distributor_init', 'scipy.__config__', 'scipy.version', 'scipy._lib', 'scipy._lib._testutils', 'scipy._lib._version', 'scipy._lib.six', 'scipy._lib._ccallback', 'scipy._lib._ccallback_c', 'scipy.sparse', 'scipy.sparse.base', 'scipy._lib._numpy_compat', 'scipy.sparse.sputils', 'scipy.sparse.csr', 'scipy.sparse._sparsetools', 'scipy.sparse.compressed', 'scipy._lib._util', 'multiprocessing', 'multiprocessing.context', 'multiprocessing.process', 'multiprocessing.reduction', '__mp_main__', 'scipy.sparse.data', 'scipy.sparse.dia', 'scipy.sparse.csc', 'scipy.sparse.lil', 'scipy.sparse._csparsetools', 'scipy.sparse.dok', 'scipy.sparse.coo', 'scipy.sparse.bsr', 'scipy.sparse.construct', 'scipy.sparse.extract', 'scipy.sparse._matrix_io', 'scipy.sparse.csgraph', 'scipy.sparse.csgraph._laplacian', 'scipy.sparse.csgraph._shortest_path', '_cython_0_29_5', 'scipy.sparse.csgraph._validation', 'scipy.sparse.csgraph._tools', 'scipy.sparse.csgraph._traversal', 'scipy.sparse.csgraph._min_spanning_tree', 'scipy.sparse.csgraph._reordering', 'lightgbm.compat', 'pandas', 'pytz', 'pytz.exceptions', 'pytz.lazy', 'pytz.tzinfo', 'pytz.tzfile', 'dateutil', 'dateutil._version', 'pandas.compat', 'distutils', 'distutils.version', 'pandas.compat.chainmap', 'dateutil.parser', 'dateutil.parser._parser', 'six', 'dateutil.relativedelta', 'dateutil._common', 'dateutil.tz', 'dateutil.tz.tz', 'six.moves', 'dateutil.tz._common', 'dateutil.tz._factories', 'dateutil.tz.win', 'dateutil.parser.isoparser', 'typing', 'typing.io', 'typing.re', 'pandas.compat.numpy', 'pandas._libs', 'pandas._libs.tslibs', 'pandas._libs.tslibs.conversion', 'pandas._libs.tslibs.nattype', '_cython_0_29_6', 'pandas._libs.tslibs.np_datetime', 'pandas._libs.tslibs.timedeltas', 'pandas._libs.tslibs.offsets', 'pandas._libs.tslibs.ccalendar', 'pandas._libs.tslibs.strptime', 'pandas._libs.tslibs.timezones', 'pandas._libs.tslibs.parsing', 'pandas._libs.tslibs.period', 'pandas._libs.tslibs.frequencies', 'pandas._libs.tslibs.timestamps', 'pandas._libs.tslibs.fields', 'pandas._libs.tslibs.resolution', 'pandas._libs.hashtable', 'pandas._libs.missing', 'pandas._libs.lib', 'fractions', 'pandas._libs.tslib', 'pandas.core', 'pandas.core.config_init', 'pandas.core.config', 'pandas.io', 'pandas.io.formats', 'pandas.io.formats.printing', 'pandas.core.dtypes', 'pandas.core.dtypes.inference', 'pandas.io.formats.console', 'pandas.io.formats.terminal', 'pandas.core.api', 'pandas.core.arrays', 'pandas.core.arrays.array_', 'pandas.core.dtypes.common', 'pandas._libs.algos', 'pandas.core.dtypes.dtypes', 'pandas._libs.interval', 'pandas.core.dtypes.generic', 'pandas.core.dtypes.base', 'pandas.errors', 'pandas.core.arrays.base', 'pandas.compat.numpy.function', 'pandas.util', 'pandas.util._decorators', 'pandas._libs.properties', 'pandas.core.util', 'pandas.core.util.hashing', 'pandas._libs.hashing', 'pandas.core.dtypes.cast', 'pandas.core.dtypes.missing', 'pandas.util._validators', 'pandas.core.ops', 'pandas._libs.ops', 'pandas.core.common', 'pandas.core.missing', 'pandas.core.arrays.categorical', 'pandas.core.accessor', 'pandas.core.algorithms', 'pandas.core.base', 'pandas.core.nanops', 'bottleneck', 'bottleneck.reduce', 'bottleneck.nonreduce', 'bottleneck.nonreduce_axis', 'bottleneck.move', 'bottleneck.slow', 'bottleneck.slow.reduce', 'bottleneck.slow.nonreduce', 'bottleneck.slow.nonreduce_axis', 'bottleneck.slow.move', 'bottleneck.version', 'bottleneck.benchmark', 'bottleneck.benchmark.bench', 'bottleneck.benchmark.autotimeit', 'timeit', 'bottleneck.benchmark.bench_detailed', 'bottleneck.tests', 'bottleneck.tests.util', 'pandas.tseries', 'pandas.tseries.offsets', 'dateutil.easter', 'pandas.core.tools', 'pandas.core.tools.datetimes', 'pandas.core.sorting', 'pandas.core.arrays.datetimes', 'pandas.core.arrays.datetimelike', 'pandas.tseries.frequencies', 'pandas.core.arrays._ranges', 'pandas.core.arrays.interval', 'pandas.util._doctools', 'pandas.core.indexes', 'pandas.core.indexes.base', 'pandas._libs.index', 'pandas._libs.join', 'pandas.core.dtypes.concat', 'pandas.core.indexes.frozen', 'pandas.core.strings', 'pandas.core.arrays.period', 'pandas.core.arrays.timedeltas', 'pandas.core.arrays.integer', 'pandas.core.tools.numeric', 'pandas.core.arrays.sparse', 'pandas._libs.sparse', 'pandas.core.arrays.numpy_', 'pandas.core.groupby', 'pandas.core.groupby.groupby', 'pandas._libs.groupby', 'pandas.core.frame', 'pandas.core.generic', 'pandas.core.index', 'pandas.core.indexes.api', 'pandas.core.indexes.category', 'pandas.core.indexes.datetimes', 'pandas.core.indexes.datetimelike', 'pandas.core.tools.timedeltas', 'pandas.core.indexes.numeric', 'pandas.core.indexes.interval', 'pandas.util._exceptions', 'pandas.core.indexes.multi', 'pandas.core.indexes.timedeltas', 'pandas.core.indexes.period', 'pandas.core.indexes.range', 'pandas.core.indexing', 'pandas._libs.indexing', 'pandas.core.internals', 'pandas.core.internals.blocks', 'pandas._libs.internals', 'pandas.core.internals.arrays', 'pandas.core.internals.managers', 'pandas.core.internals.concat', 'pandas.io.formats.format', 'pandas.io.common', 'csv', '_csv', 'mmap', 'pandas.core.internals.construction', 'pandas.core.series', 'pandas.core.indexes.accessors', 'pandas.plotting', 'pandas.plotting._misc', 'pandas.plotting._style', 'pandas.plotting._tools', 'pandas.plotting._core', 'pandas.plotting._compat', 'pandas.plotting._converter', 'matplotlib', 'matplotlib.cbook', 'gzip', 'matplotlib.cbook.deprecation', 'matplotlib.rcsetup', 'matplotlib.fontconfig_pattern', 'pyparsing', 'matplotlib.colors', 'matplotlib._color_data', 'cycler', 'matplotlib._version']
2019-08-01 18:19:32,258 - Config - config.py[line:174] - INFO - load faq config SUCCESS !
2019-08-01 18:19:32,259 - init_faq_config - config.py[line:211] - INFO - init faq config SUCCESS !
2019-08-01 18:19:32,259 - server_init - server.py[line:74] - INFO - init faq config instance SUCCESS !
2019-08-01 18:19:32,260 - server_init - server.py[line:75] - INFO - src/abcnn/model/abcnn2.ckpt
2019-08-01 18:19:32,260 - jieba - __init__.py[line:111] - DEBUG - Building prefix dict from the default dictionary ...
2019-08-01 18:19:32,261 - jieba - __init__.py[line:131] - DEBUG - Loading model from cache C:\Users\ADMINI~1\AppData\Local\Temp\jieba.cache
2019-08-01 18:19:33,814 - jieba - __init__.py[line:163] - DEBUG - Loading model cost 1.553 seconds.
2019-08-01 18:19:33,815 - jieba - __init__.py[line:164] - DEBUG - Prefix dict has been built succesfully.
2019-08-01 18:19:33,815 - server_init - server.py[line:78] - INFO - init text cut tool instance SUCCESS !
2019-08-01 18:19:33,816 - urllib3.connectionpool - connectionpool.py[line:205] - DEBUG - Starting new HTTP connection (1): 127.0.0.1:9200
2019-08-01 18:19:33,888 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /faq/_delete_by_query HTTP/1.1" 200 216
2019-08-01 18:19:33,889 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/faq/_delete_by_query [status:200 request:0.073s]
2019-08-01 18:19:33,890 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match_all":{}}}
2019-08-01 18:19:33,890 - elasticsearch - base.py[line:121] - DEBUG - < {"took":55,"timed_out":false,"total":7,"deleted":7,"batches":1,"version_conflicts":0,"noops":0,"retries":{"bulk":0,"search":0},"throttled_millis":0,"requests_per_second":-1.0,"throttled_until_millis":0,"failures":[]}
2019-08-01 18:19:33,891 - ElasticSearch - elastic_search.py[line:91] - INFO - delete old data SUCCESS !
2019-08-01 18:19:33,891 - init_elastic_search - elastic_search.py[line:107] - INFO - faq_vec.index
2019-08-01 18:19:33,963 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "POST /_bulk HTTP/1.1" 200 1275
2019-08-01 18:19:33,963 - elasticsearch - base.py[line:118] - INFO - POST http://127.0.0.1:9200/_bulk [status:200 request:0.071s]
2019-08-01 18:19:33,965 - elasticsearch - base.py[line:120] - DEBUG - > {"index":{"_index":"faq","_type":"faq","_id":1}}
{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":2}}
{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":3}}
{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":4}}
{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":5}}
{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}
{"index":{"_index":"faq","_type":"faq","_id":6}}
{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}
{"index":{"_index":"faq","_type":"faq","_id":7}}
{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}

2019-08-01 18:19:33,965 - elasticsearch - base.py[line:121] - DEBUG - < {"took":65,"errors":false,"items":[{"index":{"_index":"faq","_type":"faq","_id":"1","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":588,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"2","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":589,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"3","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":590,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"4","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":591,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"5","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":592,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"6","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":593,"_primary_term":3,"status":201}},{"index":{"_index":"faq","_type":"faq","_id":"7","_version":63,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":594,"_primary_term":3,"status":201}}]}
2019-08-01 18:19:33,965 - ElasticSearch - elastic_search.py[line:54] - INFO - create elastic search from json file SUCCESS !
2019-08-01 18:19:36,967 - init_elastic_search - elastic_search.py[line:112] - INFO - init elastic search SUCCESS !
2019-08-01 18:19:36,969 - server_init - server.py[line:81] - INFO - init elastic search instance SUCCESS !
2019-08-01 18:19:36,976 - TfidfTransformer - tfidf_transformer.py[line:62] - INFO - load tfidf transformer model tfidftransformer.pkl SUCCESS !
2019-08-01 18:19:36,977 - TfidfTransformer - tfidf_transformer.py[line:68] - DEBUG - feature dims of tfidf transformer is: 14
2019-08-01 18:19:36,978 - init_tfidf_transformer - tfidf_transformer.py[line:93] - INFO - init tfidf transformer SUCCESS !
2019-08-01 18:19:36,979 - server_init - server.py[line:84] - INFO - init embedding model instance SUCCESS !
2019-08-01 18:19:36,981 - AnnoySearch - annoy_search.py[line:37] - INFO - load annoy SUCCESS !
2019-08-01 18:19:36,982 - init_annoy_search - annoy_search.py[line:89] - INFO - init annoy search SUCCESS !
2019-08-01 18:19:36,983 - server_init - server.py[line:88] - INFO - init annoy search instance SUCCESS !
2019-08-01 18:19:36,991 - LightGBM - light_gbm.py[line:71] - INFO - load model SUCCESS! 
2019-08-01 18:19:36,993 - init_light_gbm - light_gbm.py[line:79] - INFO - init light gbm SUCCESS !
2019-08-01 18:19:36,994 - server_init - server.py[line:92] - INFO - init light gbm instance SUCCESS !
2019-08-01 18:19:36,995 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:8: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

2019-08-01 18:19:37,101 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:17: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

2019-08-01 18:19:37,104 - tensorflow - deprecation.py[line:506] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
2019-08-01 18:19:39,545 - tensorflow - lazy_loader.py[line:50] - WARNING - 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

2019-08-01 18:19:39,670 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:94: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
2019-08-01 18:19:40,204 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:133: The name tf.matrix_transpose is deprecated. Please use tf.linalg.matrix_transpose instead.

2019-08-01 18:19:40,331 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:157: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
2019-08-01 18:19:40,978 - tensorflow - deprecation.py[line:323] - WARNING - From src\..\src\abcnn\graph.py:167: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.

2019-08-01 18:19:41,023 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\graph.py:169: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.

2019-08-01 18:19:42,106 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:16: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2019-08-01 18:19:42,159 - tensorflow - deprecation_wrapper.py[line:119] - WARNING - From src\..\src\abcnn\abcnn_model.py:17: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

2019-08-01 18:19:42,228 - tensorflow - deprecation.py[line:323] - WARNING - From D:\program.successfully\Anaconda\lib\site-packages\tensorflow\python\training\saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-08-01 18:19:42,236 - tensorflow - saver.py[line:1280] - INFO - Restoring parameters from src/abcnn/model/abcnn2.ckpt
2019-08-01 18:19:42,392 - init_abcnn - abcnn_model.py[line:226] - INFO - init abcnn model SUCCESS !
2019-08-01 18:19:42,392 - server_init - server.py[line:95] - INFO - init abcnn instance SUCCESS !
2019-08-01 18:19:42,392 - server - server.py[line:104] - INFO - init server SUCCESS !
2019-08-01 18:19:42,751 - werkzeug - _internal.py[line:88] - WARNING -  * Debugger is active!
2019-08-01 18:19:42,768 - werkzeug - _internal.py[line:88] - INFO -  * Debugger PIN: 444-931-708
2019-08-01 18:19:42,808 - werkzeug - _internal.py[line:88] - INFO -  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-08-01 18:19:48,155 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 18:19:48,187 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 18:19:48,193 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 18:19:48,193 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 18:19:48,253 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 767
2019-08-01 18:19:48,253 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.058s]
2019-08-01 18:19:48,270 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 18:19:48,271 - elasticsearch - base.py[line:121] - DEBUG - < {"took":37,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3940738,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3940738,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.2039728,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:19:48,271 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 18:19:48,274 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 18:19:48,275 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 18:19:48,275 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 18:19:48,308 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 18:19:48,310 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.034s]
2019-08-01 18:19:48,369 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 18:19:48,370 - elasticsearch - base.py[line:121] - DEBUG - < {"took":15,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:19:48,371 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 18:19:48,372 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 18:19:48,372 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 18:19:48,373 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 18:19:48,374 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 18:19:48,374 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 18:19:48,378 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,380 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,382 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,383 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,384 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,385 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,386 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:19:48,387 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 18:19:48,387 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,389 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,389 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,390 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,391 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,393 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,396 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:19:48,455 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 18:19:48,975 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 18:19:48,978 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 18:19:49,022 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 18:19:49,023 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 18:19:49,082 - strategy - strategy.py[line:46] - INFO - do strategy SUCCESS !
2019-08-01 18:19:49,099 - strategy - strategy.py[line:47] - INFO - {"request": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "response": [{"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7655390501022339}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.698830783367157}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.6899309158325195}, {"id": "4", "question": "where am I?", "question_vec": [0.5382813427107301, 0.0, 0.0, 0.0, 0.5382813427107301, 0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["where", "am", "I"], "answer": "I don't know yet, I feel sorry about it.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7238641977310181}, {"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 0.8384931087493896, "score": 0.25, "bm25_similarity_score": 0.6633089097588252, "edit_similarity_score": 0.33333333333333337, "jaccard_similarity_score": 0.3333333332222222, "abcnn_similarity": 0.7796792387962341}]}
2019-08-01 18:19:49,107 - strategy - strategy.py[line:50] - DEBUG - total cost time: 1171.875 ms.
2019-08-01 18:19:49,109 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 18:19:49] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 18:26:35,038 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 18:26:35,103 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 18:26:35,105 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['']}
2019-08-01 18:26:35,105 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 18:26:35,201 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 767
2019-08-01 18:26:35,206 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.090s]
2019-08-01 18:26:35,209 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 18:26:35,210 - elasticsearch - base.py[line:121] - DEBUG - < {"took":36,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:26:35,211 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 18:26:35,212 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 18:26:35,212 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 18:26:35,213 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 18:26:35,228 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 18:26:35,230 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.016s]
2019-08-01 18:26:35,230 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 18:26:35,231 - elasticsearch - base.py[line:121] - DEBUG - < {"took":9,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:26:35,231 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 18:26:35,232 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 18:26:35,232 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 18:26:35,233 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 18:26:35,233 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 18:26:35,234 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 18:26:35,234 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,235 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,236 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,236 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,237 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,238 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,238 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:35,239 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 18:26:35,239 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,242 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,243 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,244 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,246 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,247 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,248 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:35,298 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 18:26:35,341 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 18:26:35,346 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 18:26:35,416 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 18:26:35,419 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 18:26:35,435 - strategy - strategy.py[line:46] - INFO - do strategy SUCCESS !
2019-08-01 18:26:35,436 - strategy - strategy.py[line:47] - INFO - {"request": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "response": [{"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7655390501022339}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.698830783367157}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.6899309158325195}, {"id": "4", "question": "where am I?", "question_vec": [0.5382813427107301, 0.0, 0.0, 0.0, 0.5382813427107301, 0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["where", "am", "I"], "answer": "I don't know yet, I feel sorry about it.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7238641977310181}, {"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": [""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 0.8384931087493896, "score": 0.25, "bm25_similarity_score": 0.6633089097588252, "edit_similarity_score": 0.33333333333333337, "jaccard_similarity_score": 0.3333333332222222, "abcnn_similarity": 0.7796792387962341}]}
2019-08-01 18:26:35,446 - strategy - strategy.py[line:50] - DEBUG - total cost time: 218.75 ms.
2019-08-01 18:26:35,449 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 18:26:35] "[37mGET /search?query=%E4%BD%A0 HTTP/1.1[0m" 200 -
2019-08-01 18:26:44,727 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 18:26:44,732 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 18:26:44,734 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['', '']}
2019-08-01 18:26:44,736 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 18:26:44,757 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 767
2019-08-01 18:26:44,760 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.024s]
2019-08-01 18:26:44,776 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 18:26:44,776 - elasticsearch - base.py[line:121] - DEBUG - < {"took":10,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":1.3468063,"hits":[{"_index":"faq","_type":"faq","_id":"6","_score":1.3468063,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:26:44,777 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 18:26:44,779 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 0
2019-08-01 18:26:44,780 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([5, 1, 2, 3, 4, 6, 7], [0.8384931087493896, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 18:26:44,781 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [5, 1, 2, 3, 4, 6, 7]}}}}
2019-08-01 18:26:44,827 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2435
2019-08-01 18:26:44,828 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.045s]
2019-08-01 18:26:44,835 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[5,1,2,3,4,6,7]}}}
2019-08-01 18:26:44,836 - elasticsearch - base.py[line:121] - DEBUG - < {"took":14,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:26:44,838 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 18:26:44,851 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 18:26:44,851 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 18:26:44,864 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 7, after, num is 7
2019-08-01 18:26:44,865 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 18:26:44,924 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 18:26:44,926 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,926 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,928 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,928 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,929 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,930 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,930 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:44,931 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 18:26:44,931 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,932 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,933 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,934 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,934 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,934 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,935 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:44,935 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 18:26:44,950 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 18:26:44,951 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 18:26:44,964 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 18:26:44,965 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 18:26:44,977 - strategy - strategy.py[line:46] - INFO - do strategy SUCCESS !
2019-08-01 18:26:44,978 - strategy - strategy.py[line:47] - INFO - {"request": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["", ""]}, "response": [{"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7605152726173401}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.6966555118560791}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.6887187957763672}, {"id": "4", "question": "where am I?", "question_vec": [0.5382813427107301, 0.0, 0.0, 0.0, 0.5382813427107301, 0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["where", "am", "I"], "answer": "I don't know yet, I feel sorry about it.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7210404872894287}, {"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 0.8384931087493896, "score": 0.25, "bm25_similarity_score": 0.6557798617391613, "edit_similarity_score": 0.33333333333333337, "jaccard_similarity_score": 0.2499999999375, "abcnn_similarity": 0.7725473642349243}]}
2019-08-01 18:26:44,988 - strategy - strategy.py[line:50] - DEBUG - total cost time: 140.625 ms.
2019-08-01 18:26:44,989 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 18:26:44] "[37mGET /search?query=%E4%BD%A0%E8%AF%95%E8%AF%95 HTTP/1.1[0m" 200 -
2019-08-01 18:26:56,104 - faq - server.py[line:39] - INFO - origin query: hello
2019-08-01 18:26:56,107 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 18:26:56,108 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': 'hello', 'query_vec': [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'query_tokens': ['hello']}
2019-08-01 18:26:56,108 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': 'hello'}}}}
2019-08-01 18:26:56,118 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 461
2019-08-01 18:26:56,119 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.011s]
2019-08-01 18:26:56,120 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":"hello"}}}
2019-08-01 18:26:56,121 - elasticsearch - base.py[line:121] - DEBUG - < {"took":5,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":1,"relation":"eq"},"max_score":2.3017178,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":2.3017178,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}}]}}
2019-08-01 18:26:56,121 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 18:26:56,122 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 1, after filter, remain num is 1
2019-08-01 18:26:56,123 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([1, 2, 3, 4, 5, 6, 7], [0.0, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 18:26:56,123 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [1, 2, 3, 4, 5, 6, 7]}}}}
2019-08-01 18:26:56,141 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 18:26:56,142 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.018s]
2019-08-01 18:26:56,175 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[1,2,3,4,5,6,7]}}}
2019-08-01 18:26:56,176 - elasticsearch - base.py[line:121] - DEBUG - < {"took":4,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:26:56,176 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 18:26:56,177 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 18:26:56,177 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 18:26:56,177 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 8, after, num is 7
2019-08-01 18:26:56,178 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 18:26:56,178 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 18:26:56,179 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,179 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,181 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,184 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,185 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,186 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,187 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:26:56,188 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 18:26:56,189 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,189 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,190 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,191 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,192 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,193 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,194 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:26:56,195 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 18:26:56,208 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 18:26:56,209 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 18:26:56,224 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 18:26:56,226 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 18:26:56,239 - strategy - strategy.py[line:46] - INFO - do strategy SUCCESS !
2019-08-01 18:26:56,240 - strategy - strategy.py[line:47] - INFO - {"request": {"query": "hello", "query_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["hello"]}, "response": [{"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "hello", "query_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["hello"]}, "is_term": true, "is_semantic": true, "term_score": 2.3017178, "semantic_score": 0.0, "score": 0.25, "bm25_similarity_score": 0.8153112998572349, "edit_similarity_score": 1.0, "jaccard_similarity_score": 0.9999999989999999, "abcnn_similarity": 0.7704532146453857}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "hello", "query_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["hello"]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7099120616912842}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "hello", "query_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["hello"]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.694304883480072}, {"id": "4", "question": "where am I?", "question_vec": [0.5382813427107301, 0.0, 0.0, 0.0, 0.5382813427107301, 0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["where", "am", "I"], "answer": "I don't know yet, I feel sorry about it.", "query_item": {"query": "hello", "query_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["hello"]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7349659204483032}, {"id": "5", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "AI", "query_item": {"query": "hello", "query_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "query_tokens": ["hello"]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7853960394859314}]}
2019-08-01 18:26:56,252 - strategy - strategy.py[line:50] - DEBUG - total cost time: 218.75 ms.
2019-08-01 18:26:56,253 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 18:26:56] "[37mGET /search?query=hello HTTP/1.1[0m" 200 -
2019-08-01 18:27:21,648 - faq - server.py[line:39] - INFO - origin query: 
2019-08-01 18:27:21,655 - analysis - analysis.py[line:27] - INFO - analysis SUCCESS !
2019-08-01 18:27:21,655 - analysis - analysis.py[line:28] - DEBUG - query info : {'query': '', 'query_vec': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], 'query_tokens': ['', '']}
2019-08-01 18:27:21,656 - ElasticSearch - elastic_search.py[line:65] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'match': {'question': ''}}}}
2019-08-01 18:27:21,671 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 842
2019-08-01 18:27:21,671 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.015s]
2019-08-01 18:27:21,672 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"match":{"question":""}}}
2019-08-01 18:27:21,673 - elasticsearch - base.py[line:121] - DEBUG - < {"took":7,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":2,"relation":"eq"},"max_score":2.8371272,"hits":[{"_index":"faq","_type":"faq","_id":"7","_score":2.8371272,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.1631508,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:27:21,673 - term_retrieval - retrieval.py[line:38] - INFO - term retrieval SUCCESS !
2019-08-01 18:27:21,674 - term_retrieval - retrieval.py[line:40] - DEBUG - term retrieval num is 2, after filter, remain num is 1
2019-08-01 18:27:21,674 - search_by_vector - annoy_search.py[line:111] - DEBUG - annoy search by vector: ([7, 5, 1, 2, 3, 4, 6], [0.560775876045227, 1.1455960273742676, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608, 1.4142135381698608])
2019-08-01 18:27:21,674 - ElasticSearch - elastic_search.py[line:78] - DEBUG - search query is : {'index': 'faq', 'body': {'query': {'ids': {'values': [7, 5, 1, 2, 3, 4, 6]}}}}
2019-08-01 18:27:21,691 - urllib3.connectionpool - connectionpool.py[line:393] - DEBUG - http://127.0.0.1:9200 "GET /faq/_search HTTP/1.1" 200 2434
2019-08-01 18:27:21,692 - elasticsearch - base.py[line:118] - INFO - GET http://127.0.0.1:9200/faq/_search [status:200 request:0.017s]
2019-08-01 18:27:21,695 - elasticsearch - base.py[line:120] - DEBUG - > {"query":{"ids":{"values":[7,5,1,2,3,4,6]}}}
2019-08-01 18:27:21,695 - elasticsearch - base.py[line:121] - DEBUG - < {"took":9,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":7,"relation":"eq"},"max_score":1.0,"hits":[{"_index":"faq","_type":"faq","_id":"1","_score":1.0,"_source":{"question":"hello?","answer":"Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["hello"],"question_vec":[0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"2","_score":1.0,"_source":{"question":"who are you?","answer":"I am PingAn AI assistant. can I help you? please tell me what you want to know.","question_tokens":["who","are","you"],"question_vec":[0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.5382813427107301,0.5382813427107301,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"3","_score":1.0,"_source":{"question":"Do you know who am I?","answer":"No, I don't, but I think you need my help. please tell me what you want to know.","question_tokens":["Do","you","know","who","am","I"],"question_vec":[0.3806223876169572,0.0,0.45853374585687096,0.0,0.3806223876169572,0.45853374585687096,0.0,0.3806223876169572,0.3806223876169572,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"4","_score":1.0,"_source":{"question":"where am I?","answer":"I don't know yet, I feel sorry about it.","question_tokens":["where","am","I"],"question_vec":[0.5382813427107301,0.0,0.0,0.0,0.5382813427107301,0.0,0.6484646421965249,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"5","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.0,0.0,0.5382813427107301,0.5382813427107301]}},{"_index":"faq","_type":"faq","_id":"6","_score":1.0,"_source":{"question":"","answer":"AI","question_tokens":[""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0]}},{"_index":"faq","_type":"faq","_id":"7","_score":1.0,"_source":{"question":"","answer":"","question_tokens":["","",""],"question_vec":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.6484646421965249,0.5382813427107301,0.5382813427107301]}}]}}
2019-08-01 18:27:21,696 - semantic_retrieval - retrieval.py[line:90] - INFO - semantic retrieval SUCCESS !
2019-08-01 18:27:21,699 - semantic_retrieval - retrieval.py[line:91] - DEBUG - semantic retrieval num is 7
2019-08-01 18:27:21,699 - remove_duplication - retrieval.py[line:118] - INFO - remove duplication SUCCESS !
2019-08-01 18:27:21,701 - remove_duplication - retrieval.py[line:122] - DEBUG - before remove duplication, num is 8, after, num is 7
2019-08-01 18:27:21,703 - bm25_similarity - match.py[line:88] - INFO - bm25_similarity calculate SUCCESS !
2019-08-01 18:27:21,706 - cal_bm25_similarity - match.py[line:117] - INFO - cal_bm25_similarity finished SUCCESS !
2019-08-01 18:27:21,707 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,708 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,709 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,711 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,712 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,714 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,760 - edit_similarity - match.py[line:46] - INFO - edit_similarity calculate SUCCESS !
2019-08-01 18:27:21,761 - cal_edit_similarity - match.py[line:107] - INFO - cal_edit_similarity finished SUCCESS !
2019-08-01 18:27:21,762 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,763 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,763 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,764 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,765 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,766 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,767 - jaccard_similarity - match.py[line:24] - INFO - jaccard_similarity calculate SUCCESS !
2019-08-01 18:27:21,768 - cal_jaccard_similarity - match.py[line:98] - INFO - cal_jaccard_similarity finished SUCCESS !
2019-08-01 18:27:21,784 - abcnn - match.py[line:131] - INFO - cal_abcnn_similarity finished SUCCESS !
2019-08-01 18:27:21,785 - match - match.py[line:139] - INFO - match calculation finished SUCCESS !
2019-08-01 18:27:21,798 - LightGBM - light_gbm.py[line:60] - INFO - lgbm classifier predict prob SUCCESS !
2019-08-01 18:27:21,799 - rank - rank.py[line:45] - INFO - rank SUCCESS !
2019-08-01 18:27:21,813 - strategy - strategy.py[line:46] - INFO - do strategy SUCCESS !
2019-08-01 18:27:21,814 - strategy - strategy.py[line:47] - INFO - {"request": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], "query_tokens": ["", ""]}, "response": [{"id": "7", "question": "", "question_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6484646421965249, 0.5382813427107301, 0.5382813427107301], "question_tokens": ["", "", ""], "answer": "", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], "query_tokens": ["", ""]}, "is_term": true, "is_semantic": true, "term_score": 2.8371272, "semantic_score": 0.560775876045227, "score": 0.25, "bm25_similarity_score": 0.7293087766843354, "edit_similarity_score": 0.6666666666666667, "jaccard_similarity_score": 0.6666666664444444, "abcnn_similarity": 0.7734912037849426}, {"id": "1", "question": "hello?", "question_vec": [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["hello"], "answer": "Hello, my name is PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7608515024185181}, {"id": "2", "question": "who are you?", "question_vec": [0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5382813427107301, 0.5382813427107301, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["who", "are", "you"], "answer": "I am PingAn AI assistant. can I help you? please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.6961243152618408}, {"id": "3", "question": "Do you know who am I?", "question_vec": [0.3806223876169572, 0.0, 0.45853374585687096, 0.0, 0.3806223876169572, 0.45853374585687096, 0.0, 0.3806223876169572, 0.3806223876169572, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["Do", "you", "know", "who", "am", "I"], "answer": "No, I don't, but I think you need my help. please tell me what you want to know.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.6894689202308655}, {"id": "4", "question": "where am I?", "question_vec": [0.5382813427107301, 0.0, 0.0, 0.0, 0.5382813427107301, 0.0, 0.6484646421965249, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "question_tokens": ["where", "am", "I"], "answer": "I don't know yet, I feel sorry about it.", "query_item": {"query": "", "query_vec": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7694487573949885, 0.6387085483562188, 0.0], "query_tokens": ["", ""]}, "is_term": false, "is_semantic": true, "term_score": 0.0, "semantic_score": 1.4142135381698608, "score": 0.25, "bm25_similarity_score": 0.5, "edit_similarity_score": 0.0, "jaccard_similarity_score": 0.0, "abcnn_similarity": 0.7205817699432373}]}
2019-08-01 18:27:21,826 - strategy - strategy.py[line:50] - DEBUG - total cost time: 265.625 ms.
2019-08-01 18:27:21,827 - werkzeug - _internal.py[line:88] - INFO - 127.0.0.1 - - [01/Aug/2019 18:27:21] "[37mGET /search?query=%E6%88%91%E6%98%AF HTTP/1.1[0m" 200 -
